"use strict";var e=require("react"),r=require("@nivo/core"),t=require("@nivo/legends"),n=require("@react-spring/web"),o=require("d3-shape"),i=require("@nivo/colors"),a=require("react/jsx-runtime"),l=require("@nivo/tooltip"),d=require("d3-scale");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function u(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}var c=function(t){var l,d=t.data,s=t.item,u=t.colorByKey,c=t.fillByKey,f=t.radiusScale,m=t.rotation,g=t.angleStep,v=t.curveFactory,h=t.borderWidth,y=t.borderColor,p=t.fillOpacity,b=t.blendMode,x=r.useTheme(),j=i.useInheritedColor(y,x),C=e.useMemo((function(){return o.lineRadial().radius((function(e){return f(e)})).angle((function(e,r){return m+r*g})).curve(v)}),[f,m,g,v]),S=r.useMotionConfig(),k=S.animate,M=S.config,L=r.useAnimatedPath(C(d.map((function(e){return e[s]})))),B=n.useSpring({fill:u[s],stroke:j({key:s,color:u[s]}),config:M,immediate:!k}),O=null!=(l=c[s])?l:B.fill;return a.jsx(n.animated.path,{d:L,fill:O,fillOpacity:p,stroke:B.stroke,strokeWidth:h,style:{mixBlendMode:b}},s)},f=function(t){var o=t.radius,i=t.angles,l=t.indices,d=t.label,u=t.labelOffset,c=r.useMotionConfig(),f=c.animate,m=c.config,g=l.map((function(e,t){var n,a,l=r.positionFromAngle(i[t],o+u),d=(n=i[t],(a=r.radiansToDegrees(n)+90)<=10||a>=350||a>=170&&a<=190?"middle":a>180?"end":"start");return s({id:e,angle:r.radiansToDegrees(i[t]),anchor:d},l)})),v=n.useSprings(g.length,g.map((function(e){return{transform:"translate("+e.x+", "+e.y+")",config:m,immediate:!f}})));return a.jsx(a.Fragment,{children:v.map((function(r,t){var n=g[t];return e.createElement(d,{key:n.id,id:n.id,anchor:n.anchor,angle:n.angle,x:n.x,y:n.y,animated:r})}))})},m=["shape"],g=e.memo((function(e){var t=e.radius,o=r.useTheme(),i=r.useMotionConfig(),l=i.animate,d=i.config,u=n.useSpring({radius:t,config:d,immediate:!l});return a.jsx(n.animated.circle,s({fill:"none",r:n.to(u.radius,(function(e){return Math.max(e,0)}))},o.grid.line))})),v=function(t){var i=t.radius,l=t.rotation,d=t.angleStep,u=t.dataLength,c=r.useTheme(),f=e.useMemo((function(){return o.lineRadial().angle((function(e){return l+e*d})).radius(i).curve(o.curveLinearClosed)}),[l,d,i]),m=Array.from({length:u},(function(e,r){return r})),g=r.useAnimatedPath(f(m));return a.jsx(n.animated.path,s({fill:"none",d:g},c.grid.line))},h=function(e){var r=e.shape,t=u(e,m);return"circular"===r?a.jsx(g,{radius:t.radius}):a.jsx(v,s({},t))},y=function(t){var n=t.indices,o=t.levels,i=t.shape,l=t.radius,d=t.rotation,u=t.angleStep,c=t.label,m=t.labelOffset,g=r.useTheme(),v=e.useMemo((function(){return{radii:Array.from({length:o}).map((function(e,r){return l/o*(r+1)})).reverse(),angles:Array.from({length:n.length}).map((function(e,r){return d+r*u-Math.PI/2}))}}),[n,o,l,d,u]),y=v.radii,p=v.angles;return a.jsxs(a.Fragment,{children:[p.map((function(e,t){var n=r.positionFromAngle(e,l);return a.jsx("line",s({x1:0,y1:0,x2:n.x,y2:n.y},g.grid.line),"axis."+t)})),y.map((function(e,r){return a.jsx(h,{shape:i,radius:e,rotation:d,angleStep:u,dataLength:n.length},"level."+r)})),a.jsx(f,{radius:l,angles:p,indices:n,labelOffset:m,label:c})]})},p=function(t){var n=t.datum,o=t.keys,i=t.index,d=t.formatValue,s=t.colorByKey,u=t.radius,c=t.startAngle,f=t.endAngle,m=t.arcGenerator,g=t.tooltip,v=t.onClick,h=e.useState(!1),y=h[0],p=h[1],b=r.useTheme(),x=l.useTooltip(),j=x.showTooltipFromEvent,C=x.hideTooltip,S=e.useCallback((function(e){return null==v?void 0:v(n,e)}),[v,n]),k=e.useMemo((function(){var e=o.map((function(e){return{color:s[e],id:e,value:n[e],formattedValue:d(n[e],e)}}));return e.sort((function(e,r){return e.value-r.value})),e.reverse(),e}),[n,o,d,s]),M=e.useCallback((function(r){p(!0),j(e.createElement(g,{index:i,data:k}),r)}),[j,g,i,k]),L=e.useCallback((function(){p(!1),C()}),[C,p]),B=e.useMemo((function(){var e=r.positionFromAngle(c+.5*(f-c)-Math.PI/2,u);return{path:m({startAngle:c,endAngle:f}),tipX:e.x,tipY:e.y}}),[c,f,u,m]),O=B.path,I=B.tipX,D=B.tipY;return a.jsxs(a.Fragment,{children:[y&&a.jsx("line",{x1:0,y1:0,x2:I,y2:D,style:b.crosshair.line}),a.jsx("path",{d:O,fill:"#F00",fillOpacity:0,onMouseEnter:M,onMouseMove:M,onMouseLeave:L,onClick:S})]})},b=function(e){var r=e.data,t=e.keys,n=e.getIndex,i=e.formatValue,l=e.colorByKey,d=e.radius,s=e.rotation,u=e.angleStep,c=e.tooltip,f=e.onClick,m=o.arc().outerRadius(d).innerRadius(0),g=s-.5*u;return a.jsx(a.Fragment,{children:r.map((function(e){var r=n(e),o=g,s=o+u;return g+=u,a.jsx(p,{datum:e,keys:t,index:r,formatValue:i,colorByKey:l,startAngle:o,endAngle:s,radius:d,arcGenerator:m,tooltip:c,onClick:f},r)}))})},x=function(t){var n=t.data,o=t.keys,l=t.getIndex,d=t.colorByKey,u=t.radiusScale,c=t.rotation,f=t.angleStep,m=t.symbol,g=t.size,v=void 0===g?6:g,h=t.color,y=void 0===h?{from:"color"}:h,p=t.borderWidth,b=void 0===p?0:p,x=t.borderColor,j=void 0===x?{from:"color"}:x,C=t.enableLabel,S=void 0!==C&&C,k=t.label,M=void 0===k?"value":k,L=t.formatValue,B=t.labelYOffset,O=r.useTheme(),I=i.getInheritedColorGenerator(y,O),D=i.getInheritedColorGenerator(j,O),F=r.usePropertyAccessor(M),W=e.useMemo((function(){return n.reduce((function(e,t,n){var i=l(t);return o.forEach((function(o){var a=t[o],l={index:i,key:o,value:a,formattedValue:L(a,o),color:d[o]};e.push({key:o+"."+i,label:S?F(l):void 0,style:s({fill:I(l),stroke:D(l)},r.positionFromAngle(c+f*n-Math.PI/2,u(t[o]))),data:l})})),e}),[])}),[n,o,l,d,S,F,L,I,D,c,f,u]);return a.jsx(a.Fragment,{children:W.map((function(e){return a.jsx(r.DotsItem,{x:e.style.x,y:e.style.y,symbol:m,size:v,color:e.style.fill,borderWidth:b,borderColor:e.style.stroke,label:e.label,labelYOffset:B,datum:e.data},e.key)}))})},j={layers:["grid","layers","slices","dots","legends"],maxValue:"auto",rotation:0,curve:"linearClosed",borderWidth:2,borderColor:{from:"color"},gridLevels:5,gridShape:"circular",gridLabelOffset:16,gridLabel:function(e){var t=e.id,o=e.anchor,i=e.animated,l=r.useTheme();return a.jsx(n.animated.g,{transform:i.transform,children:a.jsx("text",{style:l.axis.ticks.text,dominantBaseline:"central",textAnchor:o,children:t})})},enableDots:!0,dotSize:6,dotColor:{from:"color"},dotBorderWidth:0,dotBorderColor:{from:"color"},enableDotLabel:!1,dotLabel:"formattedValue",dotLabelYOffset:-12,colors:{scheme:"nivo"},fillOpacity:.25,blendMode:"normal",isInteractive:!0,sliceTooltip:function(r){var t=r.index,n=r.data,o=e.useMemo((function(){return n.map((function(e){return[a.jsx(l.Chip,{color:e.color},e.id),e.id,e.formattedValue]}))}),[n]);return a.jsx(l.TableTooltip,{title:a.jsx("strong",{children:t}),rows:o})},legends:[],role:"img",animate:!0,motionConfig:"gentle",defs:[],fill:[]},C=["data"],S=function(t){var n=t.data,o=t.keys,a=t.indexBy,l=t.rotationDegrees,c=t.maxValue,f=t.valueFormat,m=t.curve,g=t.width,v=t.height,h=t.colors,y=void 0===h?j.colors:h,p=t.legends,b=t.defs,x=t.fill,S=r.usePropertyAccessor(a),k=e.useMemo((function(){return n.map(S)}),[n,S]),M=r.useValueFormatter(f),L=r.degreesToRadians(l),B=i.useOrdinalColorScale(y,"key"),O=e.useMemo((function(){return o.reduce((function(e,r,t){return e[r]=B({key:r,index:t}),e}),{})}),[o,B]),I=e.useMemo((function(){var e=o.map((function(e){return{key:e,color:O[e],data:n,fill:null}})),t=r.bindDefs(b,e,x),i=e.reduce((function(e,r){var t=r.key,n=r.fill;return e[t]=n,e}),{});return{boundDefs:t,fillByKey:i}}),[o,n,b,x,O]),D=I.boundDefs,F=I.fillByKey,W=e.useMemo((function(){var e=n.reduce((function(e,r){return[].concat(e,o.map((function(e){return r[e]})))}),[]),r="auto"!==c?c:Math.max.apply(Math,e),t=Math.min(g,v)/2;return{radius:t,radiusScale:d.scaleLinear().range([0,t]).domain([0,r]),centerX:g/2,centerY:v/2,angleStep:2*Math.PI/n.length}}),[o,n,c,g,v]),A=W.radius,T=W.radiusScale,V=W.centerX,K=W.centerY,Y=W.angleStep,P=r.useCurveInterpolation(m),w=e.useMemo((function(){return{data:n,keys:o,indices:k,colorByKey:O,centerX:V,centerY:K,radiusScale:T,angleStep:Y}}),[n,o,k,O,V,K,T,Y]),R=e.useMemo((function(){return o.map((function(e){return{id:e,label:e,color:O[e]}}))}),[o,O]),q=e.useMemo((function(){return p.map((function(e){var r=e.data,t=u(e,C),n=null==r?void 0:r.map((function(e){return s({},R.find((function(r){return r.id===e.id}))||{},e)}));return s({},t,{data:n||R})}))}),[p,R]);return{getIndex:S,indices:k,formatValue:M,colorByKey:O,fillByKey:F,boundDefs:D,rotation:L,radius:A,radiusScale:T,centerX:V,centerY:K,angleStep:Y,curveFactory:P,legendData:R,boundLegends:q,customLayerProps:w}},k=["isInteractive","animate","motionConfig","theme","renderWrapper"],M=function(n){var o=n.data,i=n.keys,l=n.indexBy,d=n.layers,u=void 0===d?j.layers:d,f=n.rotation,m=void 0===f?j.rotation:f,g=n.maxValue,v=void 0===g?j.maxValue:g,h=n.valueFormat,p=n.curve,C=void 0===p?j.curve:p,k=n.margin,M=n.width,L=n.height,B=n.borderWidth,O=void 0===B?j.borderWidth:B,I=n.borderColor,D=void 0===I?j.borderColor:I,F=n.gridLevels,W=void 0===F?j.gridLevels:F,A=n.gridShape,T=void 0===A?j.gridShape:A,V=n.gridLabel,K=void 0===V?j.gridLabel:V,Y=n.gridLabelOffset,P=void 0===Y?j.gridLabelOffset:Y,w=n.enableDots,R=void 0===w?j.enableDots:w,q=n.dotSymbol,X=n.dotSize,z=void 0===X?j.dotSize:X,E=n.dotColor,G=void 0===E?j.dotColor:E,H=n.dotBorderWidth,J=void 0===H?j.dotBorderWidth:H,N=n.dotBorderColor,Q=void 0===N?j.dotBorderColor:N,U=n.enableDotLabel,Z=void 0===U?j.enableDotLabel:U,$=n.dotLabel,_=void 0===$?j.dotLabel:$,ee=n.dotLabelYOffset,re=void 0===ee?j.dotLabelYOffset:ee,te=n.colors,ne=void 0===te?j.colors:te,oe=n.fillOpacity,ie=void 0===oe?j.fillOpacity:oe,ae=n.blendMode,le=void 0===ae?j.blendMode:ae,de=n.isInteractive,se=void 0===de?j.isInteractive:de,ue=n.sliceTooltip,ce=void 0===ue?j.sliceTooltip:ue,fe=n.legends,me=void 0===fe?j.legends:fe,ge=n.role,ve=n.ariaLabel,he=n.ariaLabelledBy,ye=n.ariaDescribedBy,pe=n.defs,be=void 0===pe?j.defs:pe,xe=n.fill,je=void 0===xe?j.fill:xe,Ce=n.onClick,Se=r.useDimensions(M,L,k),ke=Se.margin,Me=Se.innerWidth,Le=Se.innerHeight,Be=Se.outerWidth,Oe=Se.outerHeight,Ie=S({data:o,keys:i,indexBy:l,rotationDegrees:m,maxValue:v,valueFormat:h,curve:C,width:Me,height:Le,colors:ne,legends:me,defs:be,fill:je}),De=Ie.getIndex,Fe=Ie.indices,We=Ie.formatValue,Ae=Ie.colorByKey,Te=Ie.fillByKey,Ve=Ie.boundDefs,Ke=Ie.rotation,Ye=Ie.radius,Pe=Ie.radiusScale,we=Ie.centerX,Re=Ie.centerY,qe=Ie.angleStep,Xe=Ie.curveFactory,ze=Ie.boundLegends,Ee=Ie.customLayerProps,Ge={grid:null,layers:null,slices:null,dots:null,legends:null};return u.includes("grid")&&(Ge.grid=a.jsx("g",{transform:"translate("+we+", "+Re+")",children:a.jsx(y,{levels:W,shape:T,radius:Ye,rotation:Ke,angleStep:qe,indices:Fe,label:K,labelOffset:P})},"grid")),u.includes("layers")&&(Ge.layers=a.jsx("g",{transform:"translate("+we+", "+Re+")",children:i.map((function(e){return a.jsx(c,{data:o,item:e,colorByKey:Ae,fillByKey:Te,radiusScale:Pe,rotation:Ke,angleStep:qe,curveFactory:Xe,borderWidth:O,borderColor:D,fillOpacity:ie,blendMode:le},e)}))},"layers")),u.includes("slices")&&se&&(Ge.slices=a.jsx("g",{transform:"translate("+we+", "+Re+")",children:a.jsx(b,{data:o,keys:i,getIndex:De,formatValue:We,colorByKey:Ae,radius:Ye,rotation:Ke,angleStep:qe,tooltip:ce,onClick:Ce})},"slices")),u.includes("dots")&&R&&(Ge.dots=a.jsx("g",{transform:"translate("+we+", "+Re+")",children:a.jsx(x,{data:o,keys:i,getIndex:De,radiusScale:Pe,rotation:Ke,angleStep:qe,symbol:q,size:z,colorByKey:Ae,color:G,borderWidth:J,borderColor:Q,enableLabel:Z,label:_,formatValue:We,labelYOffset:re})},"dots")),u.includes("legends")&&(Ge.legends=a.jsx(e.Fragment,{children:ze.map((function(e,r){return a.jsx(t.BoxLegendSvg,s({},e,{containerWidth:M,containerHeight:L}),r)}))},"legends")),a.jsx(r.SvgWrapper,{defs:Ve,width:Be,height:Oe,margin:ke,role:ge,ariaLabel:ve,ariaLabelledBy:he,ariaDescribedBy:ye,children:u.map((function(r,t){var n;return"function"==typeof r?a.jsx(e.Fragment,{children:e.createElement(r,Ee)},t):null!=(n=null==Ge?void 0:Ge[r])?n:null}))})},L=function(e){var t=e.isInteractive,n=void 0===t?j.isInteractive:t,o=e.animate,i=void 0===o?j.animate:o,l=e.motionConfig,d=void 0===l?j.motionConfig:l,c=e.theme,f=e.renderWrapper,m=u(e,k);return a.jsx(r.Container,{animate:i,isInteractive:n,motionConfig:d,renderWrapper:f,theme:c,children:a.jsx(M,s({isInteractive:n},m))})};exports.Radar=L,exports.RadarDots=x,exports.ResponsiveRadar=function(e){return a.jsx(r.ResponsiveWrapper,{children:function(r){var t=r.width,n=r.height;return a.jsx(L,s({width:t,height:n},e))}})},exports.svgDefaultProps=j;
//# sourceMappingURL=nivo-radar.cjs.js.map
