import{useState as i,useMemo as e,useCallback as t,createElement as o,memo as n,Fragment as r}from"react";import{useTheme as a,useMotionConfig as d,useAnimatedPath as c,Container as l,useDimensions as s,SvgWrapper as v,ResponsiveWrapper as u,bindDefs as p}from"@nivo/core";import{Grid as h,Axes as f}from"@nivo/axes";import{line as g,curveBasis as y,curveLinear as m,area as b}from"d3-shape";import{useOrdinalColorScale as x,useInheritedColor as M}from"@nivo/colors";import{useTooltip as P,BasicTooltip as W}from"@nivo/tooltip";import{scalePoint as O,scaleLinear as L}from"d3-scale";import{castPointScale as S,castLinearScale as I}from"@nivo/scales";import{jsx as C,jsxs as B,Fragment as k}from"react/jsx-runtime";import{useSpring as A,animated as E,to as T,useSprings as w}from"@react-spring/web";import{Mesh as z}from"@nivo/voronoi";function G(){return G=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}return i},G.apply(this,arguments)}function F(i,e){if(null==i)return{};var t,o,n={},r=Object.keys(i);for(o=0;o<r.length;o++)t=r[o],e.indexOf(t)>=0||(n[t]=i[t]);return n}var H=function(i){return e((function(){return"function"==typeof i?i:function(){return i}}),[i])},X=function(o){var n=o.width,r=o.height,d=o.data,c=o.interpolation,l=o.xPadding,s=o.xOuterPadding,v=o.yOuterPadding,u=o.lineWidth,p=o.activeLineWidth,h=o.inactiveLineWidth,f=o.colors,b=o.opacity,P=o.activeOpacity,W=o.inactiveOpacity,L=o.pointSize,I=o.activePointSize,C=o.inactivePointSize,B=o.pointColor,k=o.pointBorderWidth,A=o.activePointBorderWidth,E=o.inactivePointBorderWidth,T=o.pointBorderColor,w=o.isInteractive,z=o.defaultActiveSerieIds,F=i(z),X=F[0],j=F[1],Y=i(z),K=Y[0],R=Y[1],q=e((function(){return function(i){var e=i.width,t=i.height,o=i.data,n=i.xPadding,r=i.xOuterPadding,a=i.yOuterPadding,d=new Set,c=new Set;o.forEach((function(i){i.data.forEach((function(i){d.add(i.x),null!==i.y&&c.add(i.y)}))}));var l=Array.from(d),s=S(O().domain(l).range([0,e]).padding(r)),v=Array.from(c).sort((function(i,e){return i-e})),u=S(O().domain(v).range([0,t]).padding(a)),p=s.step()*Math.min(.5*n,.5);return{series:o.map((function(i){var t={id:i.id,data:i,points:[],linePoints:[]};return i.data.forEach((function(o,n){var r=null,a=null;null!==o.y&&(r=s(o.x),a=u(o.y));var d={id:i.id+"."+n,serie:i,data:o,x:r,y:a};t.points.push(d),null!==d.x&&(0===n?t.linePoints.push([0,d.y]):t.linePoints.push([d.x-p,d.y])),t.linePoints.push([d.x,d.y]),null!==r&&(n===i.data.length-1&&r?t.linePoints.push([e,d.y]):t.linePoints.push([d.x+p,d.y])),t.points=t.points.filter((function(i){return null!==i.x}))})),t})),xScale:s,yScale:u}}({width:n,height:r,data:d,xPadding:l,xOuterPadding:s,yOuterPadding:v})}),[n,r,d,l,s,v]),D=q.series,J=q.xScale,N=q.yScale,Q=function(i){return e((function(){return g().curve("smooth"===i?y:m).defined((function(i){return null!==i[0]&&null!==i[1]}))}),[i])}(c),U=x(f,"id"),V=function(i){var e=i.lineWidth,o=i.activeLineWidth,n=i.inactiveLineWidth,r=i.opacity,a=i.activeOpacity,d=i.inactiveOpacity,c=i.isInteractive,l=i.activeSerieIds,s=H(e),v=H(o),u=H(n),p=H(r),h=H(a),f=H(d),g=t((function(i){return{opacity:p(i),lineWidth:s(i)}}),[s,p]),y=t((function(i){return{opacity:h(i),lineWidth:v(i)}}),[v,h]),m=t((function(i){return{opacity:f(i),lineWidth:u(i)}}),[u,f]);return t((function(i){return c&&0!==l.length?l.includes(i.id)?y(i):m(i):g(i)}),[g,y,m,c,l])}({lineWidth:u,activeLineWidth:p,inactiveLineWidth:h,opacity:b,activeOpacity:P,inactiveOpacity:W,isInteractive:w,activeSerieIds:X}),Z=e((function(){return D.map((function(i){return G({},i,{color:U(i.data)},V(i))}))}),[D,U,V]),$=a(),_=M(B,$),ii=M(T,$),ei=function(i){var e=i.pointSize,o=i.activePointSize,n=i.inactivePointSize,r=i.pointBorderWidth,a=i.activePointBorderWidth,d=i.inactivePointBorderWidth,c=i.isInteractive,l=i.activePointIds,s=H(e),v=H(o),u=H(n),p=H(r),h=H(a),f=H(d),g=t((function(i){return{size:s(i),borderWidth:p(i)}}),[s,p]),y=t((function(i){return{size:v(i),borderWidth:h(i)}}),[v,h]),m=t((function(i){return{size:u(i),borderWidth:f(i)}}),[u,f]);return t((function(i){return c&&0!==l.length?l.includes(i.id)?y(i):m(i):g(i)}),[g,y,m,c,l])}({pointSize:L,activePointSize:I,inactivePointSize:C,pointBorderWidth:k,activePointBorderWidth:A,inactivePointBorderWidth:E,isInteractive:w,activePointIds:K}),ti=e((function(){var i=[];return Z.forEach((function(e){e.points.forEach((function(t){var o=G({},t,{serie:e,isActive:X.includes(e.id),isInactive:X.length>0&&!X.includes(e.id)});o.color=_(o),o.borderColor=ii(o),i.push(G({},o,ei(o)))}))})),i}),[Z,X,_,ii,ei]);return{xScale:J,yScale:N,series:Z,points:ti,lineGenerator:Q,activeSerieIds:X,setActiveSerieIds:j,activePointIds:K,setActivePointIds:R}},j=function(i){var n=i.serie,r=i.isInteractive,a=i.onMouseEnter,d=i.onMouseMove,c=i.onMouseLeave,l=i.onClick,s=i.setActiveSerieIds,v=i.lineTooltip,u=P(),p=u.showTooltipFromEvent,h=u.hideTooltip,f=t((function(i){p(o(v,{serie:n}),i),s([n.id]),a&&a(n,i)}),[n,a,p,s,v]),g=t((function(i){p(o(v,{serie:n}),i),d&&d(n,i)}),[n,d,p,v]),y=t((function(i){h(),s([]),c&&c(n,i)}),[n,c,h,s]),m=t((function(i){l&&l(n,i)}),[n,l]);return e((function(){return{onMouseEnter:r?f:void 0,onMouseMove:r?g:void 0,onMouseLeave:r?y:void 0,onClick:r?m:void 0}}),[r,f,g,y,m])},Y=function(i){var n=i.point,r=i.isInteractive,a=i.onMouseEnter,d=i.onMouseMove,c=i.onMouseLeave,l=i.onClick,s=i.setActivePointIds,v=i.setActiveSerieIds,u=i.pointTooltip,p=P(),h=p.showTooltipFromEvent,f=p.hideTooltip,g=t((function(i){h(o(u,{point:n}),i),s([n.id]),v([n.serie.id]),a&&a(n,i)}),[h,u,n,s,v,a]),y=t((function(i){h(o(u,{point:n}),i),d&&d(n,i)}),[h,u,n,d]),m=t((function(i){f(),s([]),v([]),c&&c(n,i)}),[f,s,v,c,n]),b=t((function(i){l&&l(n,i)}),[n,l]);return e((function(){return{onMouseEnter:r?g:void 0,onMouseMove:r?y:void 0,onMouseLeave:r?m:void 0,onClick:r?b:void 0}}),[r,g,y,m,b])},K=function(i){var t=i.series,o=i.position,n=i.padding,r=i.color,d=i.getLabel,c=a(),l=M(r,c);return e((function(){var i,e;"start"===o?(i="end",e=-1*n):(i="start",e=n);var r=[];return t.forEach((function(t){var n=t.id;"function"==typeof d&&(n=d(t.data));var a="start"===o?t.linePoints[0]:t.linePoints[t.linePoints.length-1];null!==(null==a?void 0:a[0])&&null!==(null==a?void 0:a[1])&&r.push({id:t.id,label:n,x:a[0]+e,y:a[1],color:l(t),opacity:t.opacity,serie:t,textAnchor:i})})),r}),[t,o,n,l,d])},R={pointerEvents:"none"},q=G({},{layers:["grid","axes","labels","lines","points","mesh"],interpolation:"smooth",xPadding:.6,xOuterPadding:.5,yOuterPadding:.5,colors:{scheme:"nivo"},lineWidth:2,activeLineWidth:4,inactiveLineWidth:1,opacity:1,activeOpacity:1,inactiveOpacity:.3,startLabel:!1,startLabelPadding:16,startLabelTextColor:{from:"color"},endLabel:!0,endLabelPadding:16,endLabelTextColor:{from:"color"},pointSize:6,activePointSize:8,inactivePointSize:4,pointColor:{from:"serie.color"},pointBorderWidth:0,activePointBorderWidth:0,inactivePointBorderWidth:0,pointBorderColor:{from:"serie.color",modifiers:[["darker",1.4]]},enableGridX:!0,enableGridY:!0,axisTop:{},axisBottom:{},axisLeft:{},isInteractive:!0,defaultActiveSerieIds:[],lineTooltip:function(i){var e=i.serie;return C(W,{"data-testid":"tooltip."+e.data.id,id:e.data.id,enableChip:!0,color:e.color})},pointTooltip:n((function(i){var e=i.point;return C(W,{id:B("span",{children:["x: ",C("strong",{children:e.data.x}),", y: ",C("strong",{children:e.data.y})]}),enableChip:!0,color:e.serie.color})})),useMesh:!1,debugMesh:!1,role:"img"},{pointComponent:function(i){var e=i.point,t=d(),o=t.animate,n=t.config,r=A({x:e.x,y:e.y,radius:e.size/2,color:e.color,borderWidth:e.borderWidth,config:n,immediate:!o});return C(E.circle,{"data-testid":"point."+e.serie.id+"."+e.data.x,cx:r.x,cy:r.y,r:T(r.radius,(function(i){return Math.max(i,0)})),fill:r.color,strokeWidth:r.borderWidth,stroke:e.borderColor,style:R})},animate:!0,motionConfig:"gentle"}),D=function(i){var e=i.serie,t=i.lineGenerator,o=i.yStep,n=i.isInteractive,r=i.onMouseEnter,a=i.onMouseMove,l=i.onMouseLeave,s=i.onClick,v=i.setActiveSerieIds,u=i.lineTooltip,p=i.useMesh,h=j({serie:e,isInteractive:n,onMouseEnter:r,onMouseMove:a,onMouseLeave:l,onClick:s,setActiveSerieIds:v,lineTooltip:u}),f=d(),g=f.animate,y=f.config,m=t(e.linePoints)||"",b=c(m),x=A({color:e.color,opacity:e.opacity,lineWidth:e.lineWidth,config:y,immediate:!g});return B(k,{children:[C(E.path,{"data-testid":"line."+e.id,fill:"none",d:b,stroke:x.color,strokeWidth:x.lineWidth,strokeLinecap:"round",strokeOpacity:x.opacity,style:{pointerEvents:"none"}}),n&&!p&&C("path",{"data-testid":"line."+e.id+".interactive",fill:"none",stroke:"red",strokeOpacity:0,strokeWidth:o,d:m,strokeLinecap:"butt",onMouseEnter:h.onMouseEnter,onMouseMove:h.onMouseMove,onMouseLeave:h.onMouseLeave,onClick:h.onClick})]})},J=function(i){var e=i.series,t=i.getLabel,o=i.position,n=i.padding,r=i.color,c=a(),l=d(),s=l.animate,v=l.config,u=K({series:e,getLabel:t,position:o,padding:n,color:r}),p=w(u.length,u.map((function(i){return{x:i.x,y:i.y,opacity:i.opacity,config:v,immediate:!s}})));return C(k,{children:p.map((function(i,e){var t=u[e];return C(E.text,{"data-testid":"label."+o+"."+t.serie.id,x:i.x,y:i.y,textAnchor:t.textAnchor,dominantBaseline:"central",opacity:i.opacity,style:G({},c.labels.text,{fill:t.color}),children:t.label},t.id)}))})},N=n((function(i){var e=i.points,n=i.width,r=i.height,a=i.margin,d=i.setActivePointIds,c=i.setActiveSerieIds,l=i.onMouseEnter,s=i.onMouseMove,v=i.onMouseLeave,u=i.onClick,p=i.tooltip,h=i.debug,f=P(),g=f.showTooltipAt,y=f.hideTooltip,m=t((function(i,e){var t;g(o(p,{point:i}),[i.x+a.left,null!=(t=i.y)?t:0+a.top],"top"),d([i.id]),c([i.serie.id]),l&&l(i,e)}),[g,p,a.left,a.top,d,c,l]),b=t((function(i,e){var t;g(o(p,{point:i}),[i.x+a.left,null!=(t=i.y)?t:0+a.top],"top"),d([i.id]),c([i.serie.id]),s&&s(i,e)}),[g,p,a.left,a.top,d,c,s]),x=t((function(i,e){y(),d([]),c([]),v&&v(i,e)}),[y,v,d,c]),M=t((function(i,e){u&&u(i,e)}),[u]);return C(z,{nodes:e,width:n,height:r,onMouseEnter:m,onMouseMove:b,onMouseLeave:x,onClick:M,debug:h})})),Q=["isInteractive","animate","motionConfig","theme","renderWrapper"],U=function(i){var t=i.data,n=i.width,a=i.height,d=i.margin,c=i.layers,l=void 0===c?q.layers:c,u=i.interpolation,p=void 0===u?q.interpolation:u,g=i.xPadding,y=void 0===g?q.xPadding:g,m=i.xOuterPadding,b=void 0===m?q.xOuterPadding:m,x=i.yOuterPadding,M=void 0===x?q.yOuterPadding:x,P=i.colors,W=void 0===P?q.colors:P,O=i.lineWidth,L=void 0===O?q.lineWidth:O,S=i.activeLineWidth,I=void 0===S?q.activeLineWidth:S,k=i.inactiveLineWidth,A=void 0===k?q.inactiveLineWidth:k,E=i.opacity,T=void 0===E?q.opacity:E,w=i.activeOpacity,z=void 0===w?q.activeOpacity:w,G=i.inactiveOpacity,F=void 0===G?q.inactiveOpacity:G,H=i.startLabel,j=void 0===H?q.startLabel:H,Y=i.startLabelPadding,K=void 0===Y?q.startLabelPadding:Y,R=i.startLabelTextColor,Q=void 0===R?q.startLabelTextColor:R,U=i.endLabel,V=void 0===U?q.endLabel:U,Z=i.endLabelPadding,$=void 0===Z?q.endLabelPadding:Z,_=i.endLabelTextColor,ii=void 0===_?q.endLabelTextColor:_,ei=i.pointComponent,ti=void 0===ei?q.pointComponent:ei,oi=i.pointSize,ni=void 0===oi?q.pointSize:oi,ri=i.activePointSize,ai=void 0===ri?q.activePointSize:ri,di=i.inactivePointSize,ci=void 0===di?q.inactivePointSize:di,li=i.pointColor,si=void 0===li?q.pointColor:li,vi=i.pointBorderWidth,ui=void 0===vi?q.pointBorderWidth:vi,pi=i.activePointBorderWidth,hi=void 0===pi?q.activePointBorderWidth:pi,fi=i.inactivePointBorderWidth,gi=void 0===fi?q.inactivePointBorderWidth:fi,yi=i.pointBorderColor,mi=void 0===yi?q.pointBorderColor:yi,bi=i.enableGridX,xi=void 0===bi?q.enableGridX:bi,Mi=i.enableGridY,Pi=void 0===Mi?q.enableGridY:Mi,Wi=i.axisTop,Oi=void 0===Wi?q.axisTop:Wi,Li=i.axisRight,Si=i.axisBottom,Ii=void 0===Si?q.axisBottom:Si,Ci=i.axisLeft,Bi=void 0===Ci?q.axisLeft:Ci,ki=i.isInteractive,Ai=void 0===ki?q.isInteractive:ki,Ei=i.defaultActiveSerieIds,Ti=void 0===Ei?q.defaultActiveSerieIds:Ei,wi=i.onMouseEnter,zi=i.onMouseMove,Gi=i.onMouseLeave,Fi=i.onClick,Hi=i.useMesh,Xi=void 0===Hi?q.useMesh:Hi,ji=i.debugMesh,Yi=void 0===ji?q.debugMesh:ji,Ki=i.lineTooltip,Ri=void 0===Ki?q.lineTooltip:Ki,qi=i.pointTooltip,Di=void 0===qi?q.pointTooltip:qi,Ji=i.role,Ni=void 0===Ji?q.role:Ji,Qi=s(n,a,d),Ui=Qi.margin,Vi=Qi.innerWidth,Zi=Qi.innerHeight,$i=Qi.outerWidth,_i=Qi.outerHeight,ie=X({width:Vi,height:Zi,data:t,interpolation:p,xPadding:y,xOuterPadding:b,yOuterPadding:M,lineWidth:L,activeLineWidth:I,inactiveLineWidth:A,colors:W,opacity:T,activeOpacity:z,inactiveOpacity:F,pointSize:ni,activePointSize:ai,inactivePointSize:ci,pointColor:si,pointBorderWidth:ui,activePointBorderWidth:hi,inactivePointBorderWidth:gi,pointBorderColor:mi,isInteractive:Ai,defaultActiveSerieIds:Ti}),ee=ie.series,te=ie.points,oe=ie.xScale,ne=ie.yScale,re=ie.lineGenerator,ae=ie.activePointIds,de=ie.activeSerieIds,ce=ie.setActiveSerieIds,le=ie.setActivePointIds,se={grid:null,axes:null,labels:null,lines:null,points:null,mesh:null};l.includes("grid")&&(se.grid=C(h,{width:Vi,height:Zi,xScale:xi?oe:null,yScale:Pi?ne:null},"grid")),l.includes("axes")&&(se.axes=C(f,{xScale:oe,yScale:ne,width:Vi,height:Zi,top:Oi,right:Li,bottom:Ii,left:Bi},"axes")),l.includes("lines")&&(se.lines=C(r,{children:ee.map((function(i){return C(D,{serie:i,setActiveSerieIds:ce,lineGenerator:re,yStep:ne.step(),isInteractive:Ai,onMouseEnter:wi,onMouseMove:zi,onMouseLeave:Gi,onClick:Fi,lineTooltip:Ri,useMesh:Xi},i.id)}))},"lines")),Ai&&Xi&&l.includes("mesh")&&(se.mesh=C(N,{points:te,width:Vi,height:Zi,margin:Ui,setActivePointIds:le,setActiveSerieIds:ce,onMouseEnter:wi,onMouseMove:zi,onMouseLeave:Gi,onClick:Fi,tooltip:Di,debug:Yi},"mesh")),l.includes("points")&&(se.points=te.map((function(i){return o(ti,{key:i.id,point:i})}))),l.includes("labels")&&(se.labels=B(r,{children:[!1!==j&&C(J,{series:ee,getLabel:j,position:"start",padding:K,color:Q}),!1!==V&&C(J,{series:ee,getLabel:V,position:"end",padding:$,color:ii})]},"legends"));var ve=e((function(){return{innerHeight:Zi,innerWidth:Vi,lineGenerator:re,points:te,series:ee,xScale:oe,yScale:ne,activeSerieIds:de,activePointIds:ae,setActiveSerieIds:ce,setActivePointIds:le}}),[ae,de,le,ce,Zi,Vi,re,te,ee,oe,ne]);return C(v,{width:$i,height:_i,margin:Ui,role:Ni,children:l.map((function(i,e){var t;return"function"==typeof i?C(r,{children:o(i,ve)},e):null!=(t=null==se?void 0:se[i])?t:null}))})},V=function(i){var e=i.isInteractive,t=void 0===e?q.isInteractive:e,o=i.animate,n=void 0===o?q.animate:o,r=i.motionConfig,a=void 0===r?q.motionConfig:r,d=i.theme,c=i.renderWrapper,s=F(i,Q);return C(l,{animate:n,isInteractive:t,motionConfig:a,renderWrapper:c,theme:d,children:C(U,G({isInteractive:t},s))})},Z=function(i){return C(u,{children:function(e){var t=e.width,o=e.height;return C(V,G({width:t,height:o},i))}})},$=function(i){return"serie"in i},_=function(i){return"points"in i},ii=function(i){var t=i.data,o=i.width,n=i.height,r=i.align,a=i.spacing,d=i.xPadding;return e((function(){return function(i){var e,t,o=i.data,n=i.width,r=i.height,a=i.align,d=i.spacing,c=i.xPadding,l=new Map;o.forEach((function(i){i.data.forEach((function(o){l.has(o.x)||l.set(o.x,{id:o.x,total:0,values:new Map,x:0});var n=l.get(o.x),r=n.total+o.y;n.total=r,n.values.set(i.id,{serieId:i.id,value:o.y,position:0,height:0,beforeHeight:0}),(void 0===e||r>e)&&(e=r),(void 0===t||n.values.size>t)&&(t=n.values.size)}))}));var s=S(O().domain(Array.from(l.keys())).range([0,n])),v=I(L().domain([0,e]).range([0,r-t*d]));l.forEach((function(i,e){i.x=s(e);var t=v(i.total)+i.values.size*d,o=0;"middle"===a?o=(r-t)/2:"end"===a&&(o=r-t),Array.from(i.values.values()).sort((function(i,e){return e.value-i.value})).forEach((function(e,t,n){var r=n.filter((function(i,e){return e<t})),a=r.reduce((function(i,e){return i+e.value}),0),c=i.values.get(e.serieId);c.position=t,c.height=v(e.value),c.beforeHeight=v(a)+o+d*(r.length+.5)}))}));var u=s.step()*Math.min(.5*c,.5),p=o.map((function(i){var e={id:i.id,data:i,points:[],areaPoints:[]};return i.data.forEach((function(t,o){var n=l.get(t.x),r=n.values.get(i.id),a=n.x,d=r.beforeHeight,c=r.height,s=d+c/2,v=d,p=d+c;e.points.push({x:a,y:s,height:c,data:G({},t)}),o>0&&e.areaPoints.push({x:a-u,y0:v,y1:p}),e.areaPoints.push({x:a,y0:v,y1:p}),o<i.data.length-1&&e.areaPoints.push({x:a+u,y0:v,y1:p})})),e}));return{series:p,xScale:s,heightScale:v}}({data:t,width:o,height:n,align:r,spacing:a,xPadding:d})}),[t,o,n,r,a,d])},ei=function(i){return e((function(){return"function"==typeof i?i:function(){return i}}),[i])},ti=function(o){var n=o.data,r=o.width,d=o.height,c=o.align,l=o.spacing,s=o.xPadding,v=o.interpolation,u=o.colors,p=o.fillOpacity,h=o.activeFillOpacity,f=o.inactiveFillOpacity,g=o.borderWidth,P=o.activeBorderWidth,W=o.inactiveBorderWidth,O=o.borderColor,L=o.borderOpacity,S=o.activeBorderOpacity,I=o.inactiveBorderOpacity,C=o.isInteractive,B=o.defaultActiveSerieIds,k=i(B),A=k[0],E=k[1],T=ii({data:n,width:r,height:d,align:c,spacing:l,xPadding:s}),w=T.series,z=T.xScale,F=T.heightScale,H=function(i){return e((function(){return b().x((function(i){return i.x})).y0((function(i){return i.y0})).y1((function(i){return i.y1})).curve("smooth"===i?y:m)}),[i])}(v),X=x(u,"id"),j=function(i){var e=i.fillOpacity,o=i.activeFillOpacity,n=i.inactiveFillOpacity,r=i.borderWidth,d=i.activeBorderWidth,c=i.inactiveBorderWidth,l=i.borderColor,s=i.borderOpacity,v=i.activeBorderOpacity,u=i.inactiveBorderOpacity,p=i.isInteractive,h=i.activeSerieIds,f=ei(e),g=ei(o),y=ei(n),m=ei(r),b=ei(d),x=ei(c),P=a(),W=M(l,P),O=ei(s),L=ei(v),S=ei(u),I=t((function(i){return{fillOpacity:f(i),borderWidth:m(i),borderColor:W(i),borderOpacity:O(i)}}),[f,m,W,O]),C=t((function(i){return{fillOpacity:g(i),borderWidth:b(i),borderColor:W(i),borderOpacity:L(i)}}),[g,b,W,L]),B=t((function(i){return{fillOpacity:y(i),borderWidth:x(i),borderColor:W(i),borderOpacity:S(i)}}),[y,x,W,S]);return t((function(i){return p&&0!==h.length?h.includes(i.id)?C(i):B(i):I(i)}),[I,C,B,p,h])}({fillOpacity:p,activeFillOpacity:h,inactiveFillOpacity:f,borderWidth:g,activeBorderWidth:P,inactiveBorderWidth:W,borderColor:O,borderOpacity:L,activeBorderOpacity:S,inactiveBorderOpacity:I,isInteractive:C,activeSerieIds:A});return{series:e((function(){return w.map((function(i){var e=G({},i,{color:X(i.data)});return G({},e,j(e))}))}),[w,X,j]),xScale:z,heightScale:F,areaGenerator:H,activeSerieIds:A,setActiveSerieIds:E}},oi=function(i){var n=i.serie,r=i.isInteractive,a=i.onMouseEnter,d=i.onMouseMove,c=i.onMouseLeave,l=i.onClick,s=i.setActiveSerieIds,v=i.tooltip,u=P(),p=u.showTooltipFromEvent,h=u.hideTooltip,f=t((function(i){p(o(v,{serie:n}),i),s([n.id]),a&&a(n,i)}),[n,a,p,s,v]),g=t((function(i){p(o(v,{serie:n}),i),d&&d(n,i)}),[n,d,p,v]),y=t((function(i){h(),s([]),c&&c(n,i)}),[n,c,h,s]),m=t((function(i){l&&l(n,i)}),[n,l]);return e((function(){return{onMouseEnter:r?f:void 0,onMouseMove:r?g:void 0,onMouseLeave:r?y:void 0,onClick:r?m:void 0}}),[r,f,g,y,m])},ni=function(i){var t=i.series,o=i.position,n=i.padding,r=i.color,d=i.getLabel,c=a(),l=M(r,c);return e((function(){var i,e;return"start"===o?(i="end",e=-1*n):(i="start",e=n),t.map((function(t){var n=t.id;"function"==typeof d&&(n=d(t.data));var r="start"===o?t.points[0]:t.points[t.points.length-1];return{id:t.id,label:n,x:r.x+e,y:r.y,color:l(t),opacity:t.fillOpacity,serie:t,textAnchor:i}}))}),[d,t,o,n,l])},ri=function(i){var e=i.serie,t=i.areaGenerator,o=i.blendMode,n=i.isInteractive,r=i.onMouseEnter,a=i.onMouseMove,l=i.onMouseLeave,s=i.onClick,v=i.setActiveSerieIds,u=i.tooltip,p=oi({serie:e,isInteractive:n,onMouseEnter:r,onMouseMove:a,onMouseLeave:l,onClick:s,setActiveSerieIds:v,tooltip:u}),h=d(),f=h.animate,g=h.config,y=c(t(e.areaPoints)||""),m=A({color:e.color,fillOpacity:e.fillOpacity,stroke:e.borderColor,strokeOpacity:e.borderOpacity,config:g,immediate:!f});return C(E.path,{"data-testid":"area."+e.id,d:y,fill:e.fill?e.fill:m.color,fillOpacity:m.fillOpacity,stroke:m.stroke,strokeWidth:e.borderWidth,strokeOpacity:m.strokeOpacity,style:{mixBlendMode:o},onMouseEnter:p.onMouseEnter,onMouseMove:p.onMouseMove,onMouseLeave:p.onMouseLeave,onClick:p.onClick})},ai=function(i){var e=i.getLabel,t=i.series,o=i.position,n=i.padding,r=i.color,c=a(),l=d(),s=l.animate,v=l.config,u=ni({getLabel:e,series:t,position:o,padding:n,color:r}),p=w(u.length,u.map((function(i){return{x:i.x,y:i.y,opacity:i.opacity,config:v,immediate:!s}})));return C(k,{children:p.map((function(i,e){var t=u[e];return C(E.text,{"data-testid":"label."+o+"."+t.serie.id,x:i.x,y:i.y,textAnchor:t.textAnchor,dominantBaseline:"central",opacity:i.opacity,style:G({},c.labels.text,{fill:t.color}),children:t.label},t.id)}))})},di=G({},{align:"middle",layers:["grid","axes","labels","areas"],interpolation:"smooth",spacing:0,xPadding:.6,colors:{scheme:"nivo"},blendMode:"normal",fillOpacity:.8,activeFillOpacity:1,inactiveFillOpacity:.15,borderWidth:1,activeBorderWidth:1,inactiveBorderWidth:0,borderColor:{from:"color",modifiers:[["darker",.4]]},borderOpacity:1,activeBorderOpacity:1,inactiveBorderOpacity:0,startLabel:!1,startLabelPadding:12,startLabelTextColor:{from:"color",modifiers:[["darker",1]]},endLabel:!0,endLabelPadding:12,endLabelTextColor:{from:"color",modifiers:[["darker",1]]},enableGridX:!0,axisTop:{},axisBottom:{},isInteractive:!0,defaultActiveSerieIds:[],tooltip:function(i){var e=i.serie;return C(W,{id:e.id,enableChip:!0,color:e.color})},role:"img"},{defs:[],fill:[],animate:!0,motionConfig:"gentle"}),ci=["isInteractive","animate","motionConfig","theme","renderWrapper"],li=function(i){var t=i.data,n=i.align,a=void 0===n?di.align:n,d=i.width,c=i.height,l=i.margin,u=i.layers,g=void 0===u?di.layers:u,y=i.interpolation,m=void 0===y?di.interpolation:y,b=i.spacing,x=void 0===b?di.spacing:b,M=i.xPadding,P=void 0===M?di.xPadding:M,W=i.colors,O=void 0===W?di.colors:W,L=i.blendMode,S=void 0===L?di.blendMode:L,I=i.fillOpacity,k=void 0===I?di.fillOpacity:I,A=i.activeFillOpacity,E=void 0===A?di.activeFillOpacity:A,T=i.inactiveFillOpacity,w=void 0===T?di.inactiveFillOpacity:T,z=i.defs,G=void 0===z?di.defs:z,F=i.fill,H=void 0===F?di.fill:F,X=i.borderWidth,j=void 0===X?di.borderWidth:X,Y=i.activeBorderWidth,K=void 0===Y?di.activeBorderWidth:Y,R=i.inactiveBorderWidth,q=void 0===R?di.inactiveBorderWidth:R,D=i.borderColor,J=void 0===D?di.borderColor:D,N=i.borderOpacity,Q=void 0===N?di.borderOpacity:N,U=i.activeBorderOpacity,V=void 0===U?di.activeBorderOpacity:U,Z=i.inactiveBorderOpacity,$=void 0===Z?di.inactiveBorderOpacity:Z,_=i.startLabel,ii=void 0===_?di.startLabel:_,ei=i.startLabelPadding,oi=void 0===ei?di.startLabelPadding:ei,ni=i.startLabelTextColor,ci=void 0===ni?di.startLabelTextColor:ni,li=i.endLabel,si=void 0===li?di.endLabel:li,vi=i.endLabelPadding,ui=void 0===vi?di.endLabelPadding:vi,pi=i.endLabelTextColor,hi=void 0===pi?di.endLabelTextColor:pi,fi=i.enableGridX,gi=void 0===fi?di.enableGridX:fi,yi=i.axisTop,mi=void 0===yi?di.axisTop:yi,bi=i.axisBottom,xi=void 0===bi?di.axisBottom:bi,Mi=i.isInteractive,Pi=void 0===Mi?di.isInteractive:Mi,Wi=i.defaultActiveSerieIds,Oi=void 0===Wi?di.defaultActiveSerieIds:Wi,Li=i.onMouseEnter,Si=i.onMouseMove,Ii=i.onMouseLeave,Ci=i.onClick,Bi=i.tooltip,ki=void 0===Bi?di.tooltip:Bi,Ai=i.role,Ei=void 0===Ai?di.role:Ai,Ti=s(d,c,l),wi=Ti.margin,zi=Ti.innerWidth,Gi=Ti.innerHeight,Fi=Ti.outerWidth,Hi=Ti.outerHeight,Xi=ti({data:t,width:zi,height:Gi,align:a,spacing:x,xPadding:P,interpolation:m,colors:O,fillOpacity:k,activeFillOpacity:E,inactiveFillOpacity:w,borderWidth:j,activeBorderWidth:K,inactiveBorderWidth:q,borderColor:J,borderOpacity:Q,activeBorderOpacity:V,inactiveBorderOpacity:$,isInteractive:Pi,defaultActiveSerieIds:Oi}),ji=Xi.series,Yi=Xi.xScale,Ki=Xi.heightScale,Ri=Xi.areaGenerator,qi=Xi.setActiveSerieIds,Di=e((function(){return p(G,ji,H,{targetKey:"fill"})}),[G,ji,H]),Ji={grid:null,axes:null,labels:null,areas:null};g.includes("grid")&&gi&&(Ji.grid=C(h,{width:zi,height:Gi,xScale:Yi},"grid")),g.includes("axes")&&(Ji.axes=C(f,{xScale:Yi,yScale:Ki,width:zi,height:Gi,top:mi,bottom:xi},"axes")),g.includes("areas")&&(Ji.areas=C(r,{children:ji.map((function(i){return C(ri,{areaGenerator:Ri,serie:i,blendMode:S,isInteractive:Pi,setActiveSerieIds:qi,onMouseEnter:Li,onMouseMove:Si,onMouseLeave:Ii,onClick:Ci,tooltip:ki},i.id)}))},"areas")),g.includes("labels")&&(Ji.labels=B(r,{children:[!1!==ii&&C(ai,{getLabel:ii,series:ji,position:"start",padding:oi,color:ci}),!1!==si&&C(ai,{getLabel:si,series:ji,position:"end",padding:ui,color:hi})]},"labels"));var Ni=e((function(){return{innerWidth:zi,innerHeight:Gi,outerWidth:Fi,outerHeight:Hi,series:ji,xScale:Yi,areaGenerator:Ri}}),[zi,Gi,Fi,Hi,ji,Yi,Ri]);return C(v,{defs:Di,width:Fi,height:Hi,margin:wi,role:Ei,children:g.map((function(i,e){var t;return"function"==typeof i?C(r,{children:o(i,Ni)},e):null!=(t=null==Ji?void 0:Ji[i])?t:null}))})},si=function(i){var e=i.isInteractive,t=void 0===e?di.isInteractive:e,o=i.animate,n=void 0===o?di.animate:o,r=i.motionConfig,a=void 0===r?di.motionConfig:r,d=i.theme,c=i.renderWrapper,s=F(i,ci);return C(l,{animate:n,isInteractive:t,motionConfig:a,renderWrapper:c,theme:d,children:C(li,G({isInteractive:t},s))})},vi=function(i){return C(u,{children:function(e){var t=e.width,o=e.height;return C(si,G({width:t,height:o},i))}})};export{si as AreaBump,V as Bump,vi as ResponsiveAreaBump,Z as ResponsiveBump,di as areaBumpSvgDefaultProps,q as bumpSvgDefaultProps,$ as isBumpPoint,_ as isComputedBumpSerie,ti as useAreaBump,oi as useAreaBumpSerieHandlers,ni as useAreaBumpSeriesLabels,X as useBump,Y as useBumpPointHandlers,j as useBumpSerieHandlers,K as useBumpSeriesLabels};
//# sourceMappingURL=nivo-bump.es.js.map
