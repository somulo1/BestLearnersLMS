{"version":3,"file":"nivo-bump.es.js","sources":["../src/bump/compute.ts","../src/bump/hooks.ts","../src/bump/Point.tsx","../src/bump/defaults.ts","../src/bump/LineTooltip.tsx","../src/bump/PointTooltip.tsx","../src/bump/Line.tsx","../src/bump/LinesLabels.tsx","../src/bump/Mesh.tsx","../src/bump/Bump.tsx","../src/bump/ResponsiveBump.tsx","../src/bump/types.ts","../src/area-bump/hooks.ts","../src/area-bump/compute.ts","../src/area-bump/Area.tsx","../src/area-bump/AreasLabels.tsx","../src/area-bump/defaults.ts","../src/area-bump/AreaTooltip.tsx","../src/area-bump/AreaBump.tsx","../src/area-bump/ResponsiveAreaBump.tsx"],"sourcesContent":["import { scalePoint } from 'd3-scale'\nimport { castPointScale } from '@nivo/scales'\nimport {\n    BumpDataProps,\n    BumpDatum,\n    BumpComputedSerie,\n    BumpSeriePoint,\n    BumpSerieExtraProps,\n} from './types'\n\nexport const computeSeries = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    width,\n    height,\n    data,\n    xPadding,\n    xOuterPadding,\n    yOuterPadding,\n}: {\n    width: number\n    height: number\n    data: BumpDataProps<Datum, ExtraProps>['data']\n    xPadding: number\n    xOuterPadding: number\n    yOuterPadding: number\n}) => {\n    const xValuesSet = new Set<Datum['x']>()\n    const yValuesSet = new Set<number>()\n\n    data.forEach(serie => {\n        serie.data.forEach(datum => {\n            xValuesSet.add(datum.x)\n            if (datum.y !== null) {\n                yValuesSet.add(datum.y)\n            }\n        })\n    })\n\n    const xValues: Datum['x'][] = Array.from(xValuesSet)\n    const xScale = castPointScale<Datum['x']>(\n        scalePoint<Datum['x']>().domain(xValues).range([0, width]).padding(xOuterPadding)\n    )\n\n    const yValues: number[] = Array.from(yValuesSet).sort((a, b) => a - b)\n    const yScale = castPointScale<number>(\n        scalePoint<number>().domain(yValues).range([0, height]).padding(yOuterPadding)\n    )\n\n    const linePointPadding = xScale.step() * Math.min(xPadding * 0.5, 0.5)\n\n    const series: Omit<BumpComputedSerie<Datum, ExtraProps>, 'color' | 'opacity' | 'lineWidth'>[] =\n        data.map(rawSerie => {\n            const serie: Omit<\n                BumpComputedSerie<Datum, ExtraProps>,\n                'color' | 'opacity' | 'lineWidth'\n            > = {\n                id: rawSerie.id,\n                data: rawSerie,\n                points: [],\n                linePoints: [],\n            }\n\n            rawSerie.data.forEach((datum, i) => {\n                let x = null\n                let y = null\n\n                if (datum.y !== null) {\n                    x = xScale(datum.x)!\n                    y = yScale(datum.y)!\n                }\n\n                const point: BumpSeriePoint<Datum, ExtraProps> = {\n                    id: `${rawSerie.id}.${i}`,\n                    serie: rawSerie,\n                    data: datum,\n                    x: x as number,\n                    y,\n                }\n                serie.points.push(point)\n\n                // only add pre transition point if the datum is not empty\n                if (point.x !== null) {\n                    if (i === 0) {\n                        serie.linePoints.push([0, point.y])\n                    } else {\n                        serie.linePoints.push([point.x - linePointPadding, point.y])\n                    }\n                }\n\n                serie.linePoints.push([point.x, point.y])\n\n                // only add post transition point if the datum is not empty\n                if (x !== null) {\n                    if (i === rawSerie.data.length - 1 && x) {\n                        serie.linePoints.push([width, point.y])\n                    } else {\n                        serie.linePoints.push([point.x + linePointPadding, point.y])\n                    }\n                }\n\n                // remove points having null coordinates\n                serie.points = serie.points.filter(point => point.x !== null)\n            })\n\n            return serie\n        })\n\n    return {\n        series,\n        xScale,\n        yScale,\n    }\n}\n","import { createElement, useMemo, useCallback, useState, MouseEvent } from 'react'\nimport { line as d3Line, curveBasis, curveLinear } from 'd3-shape'\nimport { useTheme } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor, InheritedColorConfig } from '@nivo/colors'\nimport { useTooltip } from '@nivo/tooltip'\nimport {\n    BumpInterpolation,\n    BumpCommonProps,\n    BumpDatum,\n    DefaultBumpDatum,\n    BumpDataProps,\n    BumpComputedSerie,\n    BumpPoint,\n    BumpLabel,\n    BumpLabelData,\n    BumpSerieExtraProps,\n    BumpPointMouseHandler,\n    BumpSerieMouseHandler,\n} from './types'\nimport { computeSeries } from './compute'\n\nconst useLineGenerator = (interpolation: BumpInterpolation) =>\n    useMemo(\n        () =>\n            d3Line<[number, number | null]>()\n                .curve(interpolation === 'smooth' ? curveBasis : curveLinear)\n                .defined(d => d[0] !== null && d[1] !== null),\n\n        [interpolation]\n    )\n\nconst useSerieDerivedProp = <Target, Output extends string | number>(\n    instruction: ((target: Target) => Output) | Output\n): ((target: Target) => Output) =>\n    useMemo(() => {\n        if (typeof instruction === 'function') return instruction\n        return () => instruction\n    }, [instruction])\n\nconst useSerieStyle = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    lineWidth,\n    activeLineWidth,\n    inactiveLineWidth,\n    opacity,\n    activeOpacity,\n    inactiveOpacity,\n    isInteractive,\n    activeSerieIds,\n}: {\n    lineWidth: BumpCommonProps<Datum, ExtraProps>['lineWidth']\n    activeLineWidth: BumpCommonProps<Datum, ExtraProps>['activeLineWidth']\n    inactiveLineWidth: BumpCommonProps<Datum, ExtraProps>['inactiveLineWidth']\n    opacity: BumpCommonProps<Datum, ExtraProps>['opacity']\n    activeOpacity: BumpCommonProps<Datum, ExtraProps>['activeOpacity']\n    inactiveOpacity: BumpCommonProps<Datum, ExtraProps>['inactiveOpacity']\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    activeSerieIds: string[]\n}) => {\n    type Serie = Omit<BumpComputedSerie<Datum, ExtraProps>, 'color' | 'opacity' | 'lineWidth'>\n\n    const getLineWidth = useSerieDerivedProp<Serie, number>(lineWidth)\n    const getActiveLineWidth = useSerieDerivedProp<Serie, number>(activeLineWidth)\n    const getInactiveLineWidth = useSerieDerivedProp<Serie, number>(inactiveLineWidth)\n\n    const getOpacity = useSerieDerivedProp<Serie, number>(opacity)\n    const getActiveOpacity = useSerieDerivedProp<Serie, number>(activeOpacity)\n    const getInactiveOpacity = useSerieDerivedProp<Serie, number>(inactiveOpacity)\n\n    const getNormalStyle = useCallback(\n        (serie: Serie) => ({\n            opacity: getOpacity(serie),\n            lineWidth: getLineWidth(serie),\n        }),\n        [getLineWidth, getOpacity]\n    )\n    const getActiveStyle = useCallback(\n        (serie: Serie) => ({\n            opacity: getActiveOpacity(serie),\n            lineWidth: getActiveLineWidth(serie),\n        }),\n        [getActiveLineWidth, getActiveOpacity]\n    )\n    const getInactiveStyle = useCallback(\n        (serie: Serie) => ({\n            opacity: getInactiveOpacity(serie),\n            lineWidth: getInactiveLineWidth(serie),\n        }),\n        [getInactiveLineWidth, getInactiveOpacity]\n    )\n\n    return useCallback(\n        (serie: Serie) => {\n            if (!isInteractive || activeSerieIds.length === 0) return getNormalStyle(serie)\n            if (activeSerieIds.includes(serie.id)) return getActiveStyle(serie)\n            return getInactiveStyle(serie)\n        },\n        [getNormalStyle, getActiveStyle, getInactiveStyle, isInteractive, activeSerieIds]\n    )\n}\n\nconst usePointStyle = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    pointSize,\n    activePointSize,\n    inactivePointSize,\n    pointBorderWidth,\n    activePointBorderWidth,\n    inactivePointBorderWidth,\n    isInteractive,\n    activePointIds,\n}: {\n    pointSize: BumpCommonProps<Datum, ExtraProps>['pointSize']\n    activePointSize: BumpCommonProps<Datum, ExtraProps>['activePointSize']\n    inactivePointSize: BumpCommonProps<Datum, ExtraProps>['inactivePointSize']\n    pointBorderWidth: BumpCommonProps<Datum, ExtraProps>['pointBorderWidth']\n    activePointBorderWidth: BumpCommonProps<Datum, ExtraProps>['activePointBorderWidth']\n    inactivePointBorderWidth: BumpCommonProps<Datum, ExtraProps>['inactivePointBorderWidth']\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    activePointIds: string[]\n}) => {\n    type Point = Omit<BumpPoint<Datum, ExtraProps>, 'size' | 'borderWidth'>\n\n    const getSize = useSerieDerivedProp(pointSize)\n    const getActiveSize = useSerieDerivedProp(activePointSize)\n    const getInactiveSize = useSerieDerivedProp(inactivePointSize)\n\n    const getBorderWidth = useSerieDerivedProp(pointBorderWidth)\n    const getActiveBorderWidth = useSerieDerivedProp(activePointBorderWidth)\n    const getInactiveBorderWidth = useSerieDerivedProp(inactivePointBorderWidth)\n\n    const getNormalStyle = useCallback(\n        (point: Point) => ({\n            size: getSize(point),\n            borderWidth: getBorderWidth(point),\n        }),\n        [getSize, getBorderWidth]\n    )\n    const getActiveStyle = useCallback(\n        (point: Point) => ({\n            size: getActiveSize(point),\n            borderWidth: getActiveBorderWidth(point),\n        }),\n        [getActiveSize, getActiveBorderWidth]\n    )\n    const getInactiveStyle = useCallback(\n        (point: Point) => ({\n            size: getInactiveSize(point),\n            borderWidth: getInactiveBorderWidth(point),\n        }),\n        [getInactiveSize, getInactiveBorderWidth]\n    )\n\n    return useCallback(\n        (point: Point) => {\n            if (!isInteractive || activePointIds.length === 0) return getNormalStyle(point)\n            if (activePointIds.includes(point.id)) return getActiveStyle(point)\n            return getInactiveStyle(point)\n        },\n        [getNormalStyle, getActiveStyle, getInactiveStyle, isInteractive, activePointIds]\n    )\n}\n\nexport const useBump = <\n    Datum extends BumpDatum = DefaultBumpDatum,\n    ExtraProps extends BumpSerieExtraProps = Record<string, never>\n>({\n    width,\n    height,\n    data,\n    interpolation,\n    xPadding,\n    xOuterPadding,\n    yOuterPadding,\n    lineWidth,\n    activeLineWidth,\n    inactiveLineWidth,\n    colors,\n    opacity,\n    activeOpacity,\n    inactiveOpacity,\n    pointSize,\n    activePointSize,\n    inactivePointSize,\n    pointColor,\n    pointBorderWidth,\n    activePointBorderWidth,\n    inactivePointBorderWidth,\n    pointBorderColor,\n    isInteractive,\n    defaultActiveSerieIds,\n}: {\n    width: number\n    height: number\n    data: BumpDataProps<Datum, ExtraProps>['data']\n    interpolation: BumpCommonProps<Datum, ExtraProps>['interpolation']\n    xPadding: BumpCommonProps<Datum, ExtraProps>['xPadding']\n    xOuterPadding: BumpCommonProps<Datum, ExtraProps>['xOuterPadding']\n    yOuterPadding: BumpCommonProps<Datum, ExtraProps>['yOuterPadding']\n    lineWidth: BumpCommonProps<Datum, ExtraProps>['lineWidth']\n    activeLineWidth: BumpCommonProps<Datum, ExtraProps>['activeLineWidth']\n    inactiveLineWidth: BumpCommonProps<Datum, ExtraProps>['inactiveLineWidth']\n    colors: BumpCommonProps<Datum, ExtraProps>['colors']\n    opacity: BumpCommonProps<Datum, ExtraProps>['opacity']\n    activeOpacity: BumpCommonProps<Datum, ExtraProps>['activeOpacity']\n    inactiveOpacity: BumpCommonProps<Datum, ExtraProps>['inactiveOpacity']\n    pointSize: BumpCommonProps<Datum, ExtraProps>['pointSize']\n    activePointSize: BumpCommonProps<Datum, ExtraProps>['activePointSize']\n    inactivePointSize: BumpCommonProps<Datum, ExtraProps>['inactivePointSize']\n    pointColor: BumpCommonProps<Datum, ExtraProps>['pointColor']\n    pointBorderWidth: BumpCommonProps<Datum, ExtraProps>['pointBorderWidth']\n    activePointBorderWidth: BumpCommonProps<Datum, ExtraProps>['activePointBorderWidth']\n    inactivePointBorderWidth: BumpCommonProps<Datum, ExtraProps>['inactivePointBorderWidth']\n    pointBorderColor: BumpCommonProps<Datum, ExtraProps>['pointBorderColor']\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    defaultActiveSerieIds: string[]\n}) => {\n    const [activeSerieIds, setActiveSerieIds] = useState<string[]>(defaultActiveSerieIds)\n    const [activePointIds, setActivePointIds] = useState<string[]>(defaultActiveSerieIds)\n\n    const {\n        series: rawSeries,\n        xScale,\n        yScale,\n    } = useMemo(\n        () =>\n            computeSeries<Datum, ExtraProps>({\n                width,\n                height,\n                data,\n                xPadding,\n                xOuterPadding,\n                yOuterPadding,\n            }),\n        [width, height, data, xPadding, xOuterPadding, yOuterPadding]\n    )\n\n    const lineGenerator = useLineGenerator(interpolation)\n\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const getSerieStyle = useSerieStyle<Datum, ExtraProps>({\n        lineWidth,\n        activeLineWidth,\n        inactiveLineWidth,\n        opacity,\n        activeOpacity,\n        inactiveOpacity,\n        isInteractive,\n        activeSerieIds,\n    })\n\n    const series: BumpComputedSerie<Datum, ExtraProps>[] = useMemo(\n        () =>\n            rawSeries.map(serie => ({\n                ...serie,\n                color: getColor(serie.data),\n                ...getSerieStyle(serie),\n            })),\n        [rawSeries, getColor, getSerieStyle]\n    )\n\n    const theme = useTheme()\n    const getPointColor = useInheritedColor(pointColor, theme)\n    const getPointBorderColor = useInheritedColor(pointBorderColor, theme)\n    const getPointStyle = usePointStyle<Datum, ExtraProps>({\n        pointSize,\n        activePointSize,\n        inactivePointSize,\n        pointBorderWidth,\n        activePointBorderWidth,\n        inactivePointBorderWidth,\n        isInteractive,\n        activePointIds,\n    })\n    const points: BumpPoint<Datum, ExtraProps>[] = useMemo(() => {\n        const pts: BumpPoint<Datum, ExtraProps>[] = []\n        series.forEach(serie => {\n            serie.points.forEach(rawPoint => {\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-expect-error\n                const point: BumpPoint<Datum, ExtraProps> = {\n                    ...rawPoint,\n                    serie,\n                    isActive: activeSerieIds.includes(serie.id),\n                    isInactive: activeSerieIds.length > 0 && !activeSerieIds.includes(serie.id),\n                }\n                point.color = getPointColor(point)\n                point.borderColor = getPointBorderColor(point)\n\n                pts.push({\n                    ...point,\n                    ...getPointStyle(point),\n                })\n            })\n        })\n\n        return pts\n    }, [series, activeSerieIds, getPointColor, getPointBorderColor, getPointStyle])\n\n    return {\n        xScale,\n        yScale,\n        series,\n        points,\n        lineGenerator,\n        activeSerieIds,\n        setActiveSerieIds,\n        activePointIds,\n        setActivePointIds,\n    }\n}\n\nexport const useBumpSerieHandlers = <\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n>({\n    serie,\n    isInteractive,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    setActiveSerieIds,\n    lineTooltip: tooltip,\n}: {\n    serie: BumpComputedSerie<Datum, ExtraProps>\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    onMouseEnter?: BumpSerieMouseHandler<Datum, ExtraProps>\n    onMouseMove?: BumpSerieMouseHandler<Datum, ExtraProps>\n    onMouseLeave?: BumpSerieMouseHandler<Datum, ExtraProps>\n    onClick?: BumpSerieMouseHandler<Datum, ExtraProps>\n    setActiveSerieIds: (serieIds: string[]) => void\n    lineTooltip: BumpCommonProps<Datum, ExtraProps>['lineTooltip']\n}) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { serie }), event)\n            setActiveSerieIds([serie.id])\n            onMouseEnter && onMouseEnter(serie, event)\n        },\n        [serie, onMouseEnter, showTooltipFromEvent, setActiveSerieIds, tooltip]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { serie }), event)\n            onMouseMove && onMouseMove(serie, event)\n        },\n        [serie, onMouseMove, showTooltipFromEvent, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            hideTooltip()\n            setActiveSerieIds([])\n            onMouseLeave && onMouseLeave(serie, event)\n        },\n        [serie, onMouseLeave, hideTooltip, setActiveSerieIds]\n    )\n\n    const handleClick = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            onClick && onClick(serie, event)\n        },\n        [serie, onClick]\n    )\n\n    return useMemo(\n        () => ({\n            onMouseEnter: isInteractive ? handleMouseEnter : undefined,\n            onMouseMove: isInteractive ? handleMouseMove : undefined,\n            onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n            onClick: isInteractive ? handleClick : undefined,\n        }),\n        [isInteractive, handleMouseEnter, handleMouseMove, handleMouseLeave, handleClick]\n    )\n}\n\nexport const useBumpPointHandlers = <\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n>({\n    point,\n    isInteractive,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    setActivePointIds,\n    setActiveSerieIds,\n    pointTooltip: tooltip,\n}: {\n    point: BumpPoint<Datum, ExtraProps>\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    onMouseEnter?: BumpPointMouseHandler<Datum, ExtraProps>\n    onMouseMove?: BumpPointMouseHandler<Datum, ExtraProps>\n    onMouseLeave?: BumpPointMouseHandler<Datum, ExtraProps>\n    onClick?: BumpPointMouseHandler<Datum, ExtraProps>\n    setActivePointIds: (pointIds: string[]) => void\n    setActiveSerieIds: (pointIds: string[]) => void\n    pointTooltip: BumpCommonProps<Datum, ExtraProps>['pointTooltip']\n}) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { point }), event)\n            setActivePointIds([point.id])\n            setActiveSerieIds([point.serie.id])\n            onMouseEnter && onMouseEnter(point, event)\n        },\n        [showTooltipFromEvent, tooltip, point, setActivePointIds, setActiveSerieIds, onMouseEnter]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { point }), event)\n            onMouseMove && onMouseMove(point, event)\n        },\n        [showTooltipFromEvent, tooltip, point, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            hideTooltip()\n            setActivePointIds([])\n            setActiveSerieIds([])\n            onMouseLeave && onMouseLeave(point, event)\n        },\n        [hideTooltip, setActivePointIds, setActiveSerieIds, onMouseLeave, point]\n    )\n\n    const handleClick = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            onClick && onClick(point, event)\n        },\n        [point, onClick]\n    )\n\n    return useMemo(\n        () => ({\n            onMouseEnter: isInteractive ? handleMouseEnter : undefined,\n            onMouseMove: isInteractive ? handleMouseMove : undefined,\n            onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n            onClick: isInteractive ? handleClick : undefined,\n        }),\n        [isInteractive, handleMouseEnter, handleMouseMove, handleMouseLeave, handleClick]\n    )\n}\n\nexport const useBumpSeriesLabels = <\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n>({\n    series,\n    position,\n    padding,\n    color,\n    getLabel,\n}: {\n    series: BumpComputedSerie<Datum, ExtraProps>[]\n    position: 'start' | 'end'\n    padding: number\n    color: InheritedColorConfig<BumpComputedSerie<Datum, ExtraProps>>\n    getLabel: Exclude<BumpLabel<Datum, ExtraProps>, false>\n}) => {\n    const theme = useTheme()\n    const getColor = useInheritedColor(color, theme)\n\n    return useMemo(() => {\n        let textAnchor: 'start' | 'end'\n        let signedPadding: number\n        if (position === 'start') {\n            textAnchor = 'end'\n            signedPadding = padding * -1\n        } else {\n            textAnchor = 'start'\n            signedPadding = padding\n        }\n\n        const labels: BumpLabelData<Datum, ExtraProps>[] = []\n        series.forEach(serie => {\n            let label = serie.id\n            if (typeof getLabel === 'function') {\n                label = getLabel(serie.data)\n            }\n\n            const point =\n                position === 'start'\n                    ? serie.linePoints[0]\n                    : serie.linePoints[serie.linePoints.length - 1]\n\n            // exclude labels for series having missing data at the beginning/end\n            if (point?.[0] === null || point?.[1] === null) {\n                return\n            }\n\n            labels.push({\n                id: serie.id,\n                label,\n                x: point[0] + signedPadding,\n                y: point[1],\n                color: getColor(serie) as string,\n                opacity: serie.opacity,\n                serie,\n                textAnchor,\n            })\n        })\n\n        return labels\n    }, [series, position, padding, getColor, getLabel])\n}\n","import { SVGAttributes } from 'react'\nimport { useSpring, animated, to } from '@react-spring/web'\nimport { useMotionConfig } from '@nivo/core'\nimport { BumpDatum, BumpPoint, BumpSerieExtraProps } from './types'\n\nconst pointStyle: SVGAttributes<SVGCircleElement>['style'] = {\n    pointerEvents: 'none',\n}\n\nexport interface PointProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    point: BumpPoint<Datum, ExtraProps>\n}\n\nexport const Point = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    point,\n}: PointProps<Datum, ExtraProps>) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedProps = useSpring<{\n        x: number\n        y: number\n        radius: number\n        color: string\n        borderWidth: number\n    }>({\n        x: point.x,\n        y: point.y,\n        radius: point.size / 2,\n        color: point.color,\n        borderWidth: point.borderWidth,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.circle\n            data-testid={`point.${point.serie.id}.${point.data.x}`}\n            cx={animatedProps.x}\n            cy={animatedProps.y}\n            r={to(animatedProps.radius, v => Math.max(v, 0))}\n            fill={animatedProps.color}\n            strokeWidth={animatedProps.borderWidth}\n            stroke={point.borderColor}\n            style={pointStyle}\n        />\n    )\n}\n","import { MotionProps } from '@nivo/core'\nimport { LineTooltip } from './LineTooltip'\nimport { Point } from './Point'\nimport { BumpCommonProps, BumpPointComponent, DefaultBumpDatum } from './types'\nimport PointTooltip from './PointTooltip'\n\nconst commonDefaultProps: Omit<\n    BumpCommonProps<DefaultBumpDatum, Record<string, unknown>>,\n    | 'onMouseEnter'\n    | 'onClick'\n    | 'onMouseMove'\n    | 'onMouseLeave'\n    | 'margin'\n    | 'theme'\n    | 'axisRight'\n    | 'renderWrapper'\n> = {\n    layers: ['grid', 'axes', 'labels', 'lines', 'points', 'mesh'],\n\n    interpolation: 'smooth',\n    xPadding: 0.6,\n    xOuterPadding: 0.5,\n    yOuterPadding: 0.5,\n\n    colors: { scheme: 'nivo' },\n    lineWidth: 2,\n    activeLineWidth: 4,\n    inactiveLineWidth: 1,\n    opacity: 1,\n    activeOpacity: 1,\n    inactiveOpacity: 0.3,\n\n    startLabel: false,\n    startLabelPadding: 16,\n    startLabelTextColor: { from: 'color' },\n    endLabel: true,\n    endLabelPadding: 16,\n    endLabelTextColor: { from: 'color' },\n\n    pointSize: 6,\n    activePointSize: 8,\n    inactivePointSize: 4,\n    pointColor: { from: 'serie.color' },\n    pointBorderWidth: 0,\n    activePointBorderWidth: 0,\n    inactivePointBorderWidth: 0,\n    pointBorderColor: { from: 'serie.color', modifiers: [['darker', 1.4]] },\n\n    enableGridX: true,\n    enableGridY: true,\n    axisTop: {},\n    axisBottom: {},\n    axisLeft: {},\n\n    isInteractive: true,\n    defaultActiveSerieIds: [],\n    lineTooltip: LineTooltip,\n    pointTooltip: PointTooltip,\n    useMesh: false,\n    debugMesh: false,\n    role: 'img',\n}\n\nexport const bumpSvgDefaultProps: typeof commonDefaultProps & {\n    pointComponent: BumpPointComponent<DefaultBumpDatum, Record<string, unknown>>\n    animate: boolean\n    motionConfig: MotionProps['motionConfig']\n} = {\n    ...commonDefaultProps,\n    pointComponent: Point,\n    animate: true,\n    motionConfig: 'gentle',\n}\n","import { BasicTooltip } from '@nivo/tooltip'\nimport { BumpComputedSerie, BumpDatum, BumpSerieExtraProps } from './types'\n\ninterface LineTooltipProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    serie: BumpComputedSerie<Datum, ExtraProps>\n}\n\nexport const LineTooltip = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    serie,\n}: LineTooltipProps<Datum, ExtraProps>) => (\n    <BasicTooltip\n        data-testid={`tooltip.${serie.data.id}`}\n        id={serie.data.id}\n        enableChip={true}\n        color={serie.color}\n    />\n)\n","import { memo } from 'react'\nimport { BasicTooltip } from '@nivo/tooltip'\nimport { BumpDatum, BumpPoint, BumpSerieExtraProps } from './types'\n\ninterface PointTooltipProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    point: BumpPoint<Datum, ExtraProps>\n}\n\nconst LinePointTooltip = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    point,\n}: PointTooltipProps<Datum, ExtraProps>) => {\n    return (\n        <BasicTooltip\n            id={\n                <span>\n                    x: <strong>{point.data.x}</strong>, y: <strong>{point.data.y}</strong>\n                </span>\n            }\n            enableChip={true}\n            color={point.serie.color}\n        />\n    )\n}\n\nexport default memo(LinePointTooltip)\n","import { useSpring, animated } from '@react-spring/web'\nimport { Line as D3Line } from 'd3-shape'\nimport { useAnimatedPath, useMotionConfig } from '@nivo/core'\nimport {\n    BumpCommonProps,\n    BumpComputedSerie,\n    BumpDatum,\n    BumpSerieExtraProps,\n    BumpSerieMouseHandler,\n} from './types'\nimport { useBumpSerieHandlers } from './hooks'\n\ninterface LineProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    serie: BumpComputedSerie<Datum, ExtraProps>\n    lineGenerator: D3Line<[number, number | null]>\n    yStep: number\n    isInteractive: BumpCommonProps<Datum, ExtraProps>['isInteractive']\n    onMouseEnter?: BumpSerieMouseHandler<Datum, ExtraProps>\n    onMouseMove?: BumpSerieMouseHandler<Datum, ExtraProps>\n    onMouseLeave?: BumpSerieMouseHandler<Datum, ExtraProps>\n    onClick?: BumpSerieMouseHandler<Datum, ExtraProps>\n    setActiveSerieIds: (serieIds: string[]) => void\n    lineTooltip: BumpCommonProps<Datum, ExtraProps>['lineTooltip']\n    useMesh: BumpCommonProps<Datum, ExtraProps>['useMesh']\n}\n\nexport const Line = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    serie,\n    lineGenerator,\n    yStep,\n    isInteractive,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    setActiveSerieIds,\n    lineTooltip,\n    useMesh,\n}: LineProps<Datum, ExtraProps>) => {\n    const handlers = useBumpSerieHandlers<Datum, ExtraProps>({\n        serie,\n        isInteractive,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        setActiveSerieIds,\n        lineTooltip,\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const linePath = lineGenerator(serie.linePoints) || ''\n\n    const animatedPath = useAnimatedPath(linePath)\n    const animatedProps = useSpring<{\n        color: string\n        opacity: number\n        lineWidth: number\n    }>({\n        color: serie.color,\n        opacity: serie.opacity,\n        lineWidth: serie.lineWidth,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <>\n            <animated.path\n                data-testid={`line.${serie.id}`}\n                fill=\"none\"\n                d={animatedPath}\n                stroke={animatedProps.color}\n                strokeWidth={animatedProps.lineWidth}\n                strokeLinecap=\"round\"\n                strokeOpacity={animatedProps.opacity}\n                style={{ pointerEvents: 'none' }}\n            />\n            {isInteractive && !useMesh && (\n                <path\n                    data-testid={`line.${serie.id}.interactive`}\n                    fill=\"none\"\n                    stroke=\"red\"\n                    strokeOpacity={0}\n                    strokeWidth={yStep}\n                    d={linePath}\n                    strokeLinecap=\"butt\"\n                    onMouseEnter={handlers.onMouseEnter}\n                    onMouseMove={handlers.onMouseMove}\n                    onMouseLeave={handlers.onMouseLeave}\n                    onClick={handlers.onClick}\n                />\n            )}\n        </>\n    )\n}\n","import { useSprings, animated } from '@react-spring/web'\nimport { useTheme, useMotionConfig } from '@nivo/core'\nimport { InheritedColorConfig } from '@nivo/colors'\nimport { BumpComputedSerie, BumpDatum, BumpLabel, BumpSerieExtraProps } from './types'\nimport { useBumpSeriesLabels } from './hooks'\n\ninterface LineLabelsProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    series: BumpComputedSerie<Datum, ExtraProps>[]\n    getLabel: Exclude<BumpLabel<Datum, ExtraProps>, false>\n    position: 'start' | 'end'\n    padding: number\n    color: InheritedColorConfig<BumpComputedSerie<Datum, ExtraProps>>\n}\n\nexport const LinesLabels = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    series,\n    getLabel,\n    position,\n    padding,\n    color,\n}: LineLabelsProps<Datum, ExtraProps>) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const labels = useBumpSeriesLabels<Datum, ExtraProps>({\n        series,\n        getLabel,\n        position,\n        padding,\n        color,\n    })\n\n    const springs = useSprings<{\n        x: number\n        y: number\n        opacity: number\n    }>(\n        labels.length,\n        labels.map(label => ({\n            x: label.x,\n            y: label.y,\n            opacity: label.opacity,\n            config: springConfig,\n            immediate: !animate,\n        }))\n    )\n\n    return (\n        <>\n            {springs.map((animatedProps, index) => {\n                const label = labels[index]\n\n                return (\n                    <animated.text\n                        data-testid={`label.${position}.${label.serie.id}`}\n                        key={label.id}\n                        x={animatedProps.x}\n                        y={animatedProps.y}\n                        textAnchor={label.textAnchor}\n                        dominantBaseline=\"central\"\n                        opacity={animatedProps.opacity}\n                        style={{\n                            ...theme.labels.text,\n                            fill: label.color,\n                        }}\n                    >\n                        {label.label}\n                    </animated.text>\n                )\n            })}\n        </>\n    )\n}\n","import { MouseEvent } from 'react'\nimport { createElement, memo, useCallback } from 'react'\nimport { Margin } from '@nivo/core'\nimport { useTooltip } from '@nivo/tooltip'\nimport { Mesh as BaseMesh } from '@nivo/voronoi'\nimport {\n    BumpCommonProps,\n    BumpDatum,\n    BumpPoint,\n    BumpPointMouseHandler,\n    BumpSerieExtraProps,\n} from './types'\n\ninterface MeshProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    points: BumpPoint<Datum, ExtraProps>[]\n    width: number\n    height: number\n    margin: Margin\n    setActivePointIds: (ids: string[]) => void\n    setActiveSerieIds: (ids: string[]) => void\n    onMouseEnter?: BumpPointMouseHandler<Datum, ExtraProps>\n    onMouseMove?: BumpPointMouseHandler<Datum, ExtraProps>\n    onMouseLeave?: BumpPointMouseHandler<Datum, ExtraProps>\n    onClick?: BumpPointMouseHandler<Datum, ExtraProps>\n    tooltip: BumpCommonProps<Datum, ExtraProps>['pointTooltip']\n    debug: boolean\n}\n\nconst InnerMesh = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    points,\n    width,\n    height,\n    margin,\n    setActivePointIds,\n    setActiveSerieIds,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    tooltip,\n    debug,\n}: MeshProps<Datum, ExtraProps>) => {\n    const { showTooltipAt, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        (point: BumpPoint<Datum, ExtraProps>, event: MouseEvent) => {\n            showTooltipAt(\n                createElement(tooltip, { point }),\n                [point.x + margin.left, point.y ?? 0 + margin.top],\n                'top'\n            )\n            setActivePointIds([point.id])\n            setActiveSerieIds([point.serie.id])\n            onMouseEnter && onMouseEnter(point, event)\n        },\n        [\n            showTooltipAt,\n            tooltip,\n            margin.left,\n            margin.top,\n            setActivePointIds,\n            setActiveSerieIds,\n            onMouseEnter,\n        ]\n    )\n\n    const handleMouseMove = useCallback(\n        (point: BumpPoint<Datum, ExtraProps>, event: MouseEvent) => {\n            showTooltipAt(\n                createElement(tooltip, { point }),\n                [point.x + margin.left, point.y ?? 0 + margin.top],\n                'top'\n            )\n            setActivePointIds([point.id])\n            setActiveSerieIds([point.serie.id])\n            onMouseMove && onMouseMove(point, event)\n        },\n        [\n            showTooltipAt,\n            tooltip,\n            margin.left,\n            margin.top,\n            setActivePointIds,\n            setActiveSerieIds,\n            onMouseMove,\n        ]\n    )\n\n    const handleMouseLeave = useCallback(\n        (point: BumpPoint<Datum, ExtraProps>, event: MouseEvent) => {\n            hideTooltip()\n            setActivePointIds([])\n            setActiveSerieIds([])\n            onMouseLeave && onMouseLeave(point, event)\n        },\n        [hideTooltip, onMouseLeave, setActivePointIds, setActiveSerieIds]\n    )\n\n    const handleClick = useCallback(\n        (point: BumpPoint<Datum, ExtraProps>, event: MouseEvent) => {\n            onClick && onClick(point, event)\n        },\n        [onClick]\n    )\n\n    return (\n        <BaseMesh\n            nodes={points}\n            width={width}\n            height={height}\n            onMouseEnter={handleMouseEnter}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n            onClick={handleClick}\n            debug={debug}\n        />\n    )\n}\n\nexport const Mesh = memo(InnerMesh) as typeof InnerMesh\n","import { createElement, useMemo, Fragment, ReactNode } from 'react'\nimport { Container, useDimensions, SvgWrapper } from '@nivo/core'\nimport { Grid, Axes } from '@nivo/axes'\nimport {\n    BumpCustomLayerProps,\n    BumpDatum,\n    BumpLayerId,\n    BumpPointMouseHandler,\n    BumpSerieExtraProps,\n    BumpSerieMouseHandler,\n    BumpSvgProps,\n    DefaultBumpDatum,\n} from './types'\nimport { useBump } from './hooks'\nimport { bumpSvgDefaultProps } from './defaults'\nimport { Line } from './Line'\nimport { LinesLabels } from './LinesLabels'\nimport { Mesh } from './Mesh'\n\ntype InnerBumpProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> = Omit<\n    BumpSvgProps<Datum, ExtraProps>,\n    'animate' | 'motionConfig' | 'renderWrapper' | 'theme'\n>\n\nconst InnerBump = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>({\n    data,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    layers = bumpSvgDefaultProps.layers as NonNullable<BumpSvgProps<Datum, ExtraProps>['layers']>,\n\n    interpolation = bumpSvgDefaultProps.interpolation,\n    xPadding = bumpSvgDefaultProps.xPadding,\n    xOuterPadding = bumpSvgDefaultProps.xOuterPadding,\n    yOuterPadding = bumpSvgDefaultProps.yOuterPadding,\n\n    colors = bumpSvgDefaultProps.colors as NonNullable<BumpSvgProps<Datum, ExtraProps>['colors']>,\n    lineWidth = bumpSvgDefaultProps.lineWidth,\n    activeLineWidth = bumpSvgDefaultProps.activeLineWidth,\n    inactiveLineWidth = bumpSvgDefaultProps.inactiveLineWidth,\n    opacity = bumpSvgDefaultProps.opacity,\n    activeOpacity = bumpSvgDefaultProps.activeOpacity,\n    inactiveOpacity = bumpSvgDefaultProps.inactiveOpacity,\n\n    startLabel = bumpSvgDefaultProps.startLabel as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['startLabel']\n    >,\n    startLabelPadding = bumpSvgDefaultProps.startLabelPadding,\n    startLabelTextColor = bumpSvgDefaultProps.startLabelTextColor as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['startLabelTextColor']\n    >,\n    endLabel = bumpSvgDefaultProps.endLabel as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['endLabel']\n    >,\n    endLabelPadding = bumpSvgDefaultProps.endLabelPadding,\n    endLabelTextColor = bumpSvgDefaultProps.endLabelTextColor as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['endLabelTextColor']\n    >,\n\n    pointComponent = bumpSvgDefaultProps.pointComponent as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['pointComponent']\n    >,\n    pointSize = bumpSvgDefaultProps.pointSize,\n    activePointSize = bumpSvgDefaultProps.activePointSize,\n    inactivePointSize = bumpSvgDefaultProps.inactivePointSize,\n    pointColor = bumpSvgDefaultProps.pointColor as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['pointColor']\n    >,\n    pointBorderWidth = bumpSvgDefaultProps.pointBorderWidth,\n    activePointBorderWidth = bumpSvgDefaultProps.activePointBorderWidth,\n    inactivePointBorderWidth = bumpSvgDefaultProps.inactivePointBorderWidth,\n    pointBorderColor = bumpSvgDefaultProps.pointBorderColor as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['pointBorderColor']\n    >,\n\n    enableGridX = bumpSvgDefaultProps.enableGridX,\n    enableGridY = bumpSvgDefaultProps.enableGridY,\n    axisTop = bumpSvgDefaultProps.axisTop,\n    axisRight,\n    axisBottom = bumpSvgDefaultProps.axisBottom,\n    axisLeft = bumpSvgDefaultProps.axisLeft,\n\n    isInteractive = bumpSvgDefaultProps.isInteractive,\n    defaultActiveSerieIds = bumpSvgDefaultProps.defaultActiveSerieIds,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    useMesh = bumpSvgDefaultProps.useMesh,\n    debugMesh = bumpSvgDefaultProps.debugMesh,\n    lineTooltip = bumpSvgDefaultProps.lineTooltip as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['lineTooltip']\n    >,\n    pointTooltip = bumpSvgDefaultProps.pointTooltip as NonNullable<\n        BumpSvgProps<Datum, ExtraProps>['pointTooltip']\n    >,\n    role = bumpSvgDefaultProps.role,\n}: InnerBumpProps<Datum, ExtraProps>) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const {\n        series,\n        points,\n        xScale,\n        yScale,\n        lineGenerator,\n        activePointIds,\n        activeSerieIds,\n        setActiveSerieIds,\n        setActivePointIds,\n    } = useBump<Datum, ExtraProps>({\n        width: innerWidth,\n        height: innerHeight,\n        data,\n        interpolation,\n        xPadding,\n        xOuterPadding,\n        yOuterPadding,\n        lineWidth,\n        activeLineWidth,\n        inactiveLineWidth,\n        colors,\n        opacity,\n        activeOpacity,\n        inactiveOpacity,\n        pointSize,\n        activePointSize,\n        inactivePointSize,\n        pointColor,\n        pointBorderWidth,\n        activePointBorderWidth,\n        inactivePointBorderWidth,\n        pointBorderColor,\n        isInteractive,\n        defaultActiveSerieIds,\n    })\n\n    const layerById: Record<BumpLayerId, ReactNode> = {\n        grid: null,\n        axes: null,\n        labels: null,\n        lines: null,\n        points: null,\n        mesh: null,\n    }\n\n    if (layers.includes('grid')) {\n        layerById.grid = (\n            <Grid\n                key=\"grid\"\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n            />\n        )\n    }\n\n    if (layers.includes('axes')) {\n        layerById.axes = (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n        )\n    }\n\n    if (layers.includes('lines')) {\n        layerById.lines = (\n            <Fragment key=\"lines\">\n                {series.map(serie => (\n                    <Line<Datum, ExtraProps>\n                        key={serie.id}\n                        serie={serie}\n                        setActiveSerieIds={setActiveSerieIds}\n                        lineGenerator={lineGenerator}\n                        yStep={yScale.step()}\n                        isInteractive={isInteractive}\n                        onMouseEnter={onMouseEnter as BumpSerieMouseHandler<Datum, ExtraProps>}\n                        onMouseMove={onMouseMove as BumpSerieMouseHandler<Datum, ExtraProps>}\n                        onMouseLeave={onMouseLeave as BumpSerieMouseHandler<Datum, ExtraProps>}\n                        onClick={onClick as BumpSerieMouseHandler<Datum, ExtraProps>}\n                        lineTooltip={lineTooltip}\n                        useMesh={useMesh}\n                    />\n                ))}\n            </Fragment>\n        )\n    }\n\n    if (isInteractive && useMesh && layers.includes('mesh')) {\n        layerById.mesh = (\n            <Mesh\n                key=\"mesh\"\n                points={points}\n                width={innerWidth}\n                height={innerHeight}\n                margin={margin}\n                setActivePointIds={setActivePointIds}\n                setActiveSerieIds={setActiveSerieIds}\n                onMouseEnter={onMouseEnter as BumpPointMouseHandler<Datum, ExtraProps>}\n                onMouseMove={onMouseMove as BumpPointMouseHandler<Datum, ExtraProps>}\n                onMouseLeave={onMouseLeave as BumpPointMouseHandler<Datum, ExtraProps>}\n                onClick={onClick as BumpPointMouseHandler<Datum, ExtraProps>}\n                tooltip={pointTooltip}\n                debug={debugMesh}\n            />\n        )\n    }\n\n    if (layers.includes('points')) {\n        layerById.points = points.map(point =>\n            createElement(pointComponent, {\n                key: point.id,\n                point,\n            })\n        )\n    }\n\n    if (layers.includes('labels')) {\n        layerById.labels = (\n            <Fragment key=\"legends\">\n                {startLabel !== false && (\n                    <LinesLabels<Datum, ExtraProps>\n                        series={series}\n                        getLabel={startLabel}\n                        position=\"start\"\n                        padding={startLabelPadding}\n                        color={startLabelTextColor}\n                    />\n                )}\n                {endLabel !== false && (\n                    <LinesLabels<Datum, ExtraProps>\n                        series={series}\n                        getLabel={endLabel}\n                        position=\"end\"\n                        padding={endLabelPadding}\n                        color={endLabelTextColor}\n                    />\n                )}\n            </Fragment>\n        )\n    }\n\n    const customLayerProps: BumpCustomLayerProps<Datum, ExtraProps> = useMemo(\n        () => ({\n            innerHeight,\n            innerWidth,\n            lineGenerator,\n            points,\n            series,\n            xScale,\n            yScale,\n            activeSerieIds,\n            activePointIds,\n            setActiveSerieIds,\n            setActivePointIds,\n        }),\n        [\n            activePointIds,\n            activeSerieIds,\n            setActivePointIds,\n            setActiveSerieIds,\n            innerHeight,\n            innerWidth,\n            lineGenerator,\n            points,\n            series,\n            xScale,\n            yScale,\n        ]\n    )\n\n    return (\n        <SvgWrapper width={outerWidth} height={outerHeight} margin={margin} role={role}>\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, customLayerProps)}</Fragment>\n                }\n\n                return layerById?.[layer] ?? null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Bump = <\n    Datum extends BumpDatum = DefaultBumpDatum,\n    ExtraProps extends BumpSerieExtraProps = Record<string, never>\n>({\n    isInteractive = bumpSvgDefaultProps.isInteractive,\n    animate = bumpSvgDefaultProps.animate,\n    motionConfig = bumpSvgDefaultProps.motionConfig,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: BumpSvgProps<Datum, ExtraProps>) => (\n    <Container\n        {...{\n            animate,\n            isInteractive,\n            motionConfig,\n            renderWrapper,\n            theme,\n        }}\n    >\n        <InnerBump<Datum, ExtraProps> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport { BumpDatum, BumpResponsiveProps, BumpSerieExtraProps, DefaultBumpDatum } from './types'\nimport { Bump } from './Bump'\n\nexport const ResponsiveBump = <\n    Datum extends BumpDatum = DefaultBumpDatum,\n    ExtraProps extends BumpSerieExtraProps = Record<string, never>\n>(\n    props: BumpResponsiveProps<Datum, ExtraProps>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => (\n            <Bump<Datum, ExtraProps> width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n","import { FunctionComponent, MouseEvent } from 'react'\nimport { Line as D3Line } from 'd3-shape'\nimport { Theme, Box, Dimensions, MotionProps } from '@nivo/core'\nimport { OrdinalColorScaleConfig, InheritedColorConfig } from '@nivo/colors'\nimport { AxisProps } from '@nivo/axes'\nimport { ScalePoint } from '@nivo/scales'\nimport { PointProps } from './Point'\n\nexport interface BumpDatum {\n    x: number | string\n    y: number | null\n}\n\nexport interface DefaultBumpDatum {\n    x: string\n    y: number\n}\n\nexport type BumpSerieExtraProps = Record<string, unknown>\n\nexport type BumpSerie<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> = ExtraProps & {\n    id: string\n    data: Datum[]\n}\n\nexport interface BumpSeriePoint<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    id: string\n    serie: BumpSerie<Datum, ExtraProps>\n    data: Datum\n    x: number\n    y: number | null\n}\n\nexport interface BumpPoint<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    id: string\n    serie: BumpComputedSerie<Datum, ExtraProps>\n    data: Datum\n    x: number\n    y: number | null\n    isActive: boolean\n    isInactive: boolean\n    size: number\n    color: string\n    borderWidth: number\n    borderColor: string\n}\nexport type BumpPointComponent<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> = FunctionComponent<PointProps<Datum, ExtraProps>>\n\nexport interface BumpComputedSerie<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> {\n    id: string\n    data: BumpSerie<Datum, ExtraProps>\n    points: BumpSeriePoint<Datum, ExtraProps>[]\n    linePoints: [number, number | null][]\n    color: string\n    opacity: number\n    lineWidth: number\n}\n\nexport type BumpDataProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> = {\n    data: BumpSerie<Datum, ExtraProps>[]\n}\n\nexport type BumpInterpolation = 'smooth' | 'linear'\n\nexport type BumpLabel<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> =\n    | ((serie: BumpSerie<Datum, ExtraProps>) => string)\n    | boolean\nexport interface BumpLabelData<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> {\n    serie: BumpComputedSerie<Datum, ExtraProps>\n    id: string\n    label: string\n    x: number\n    y: number\n    color: string\n    opacity: number\n    textAnchor: 'start' | 'end'\n}\n\nexport type BumpSerieMouseHandler<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> = (serie: BumpComputedSerie<Datum, ExtraProps>, event: MouseEvent<SVGPathElement>) => void\nexport type BumpPointMouseHandler<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> = (point: BumpPoint<Datum, ExtraProps>, event: MouseEvent) => void\n\nexport type BumpLayerId = 'grid' | 'axes' | 'labels' | 'lines' | 'points' | 'mesh'\nexport interface BumpCustomLayerProps<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> {\n    innerHeight: number\n    innerWidth: number\n    lineGenerator: D3Line<[number, number | null]>\n    points: BumpPoint<Datum, ExtraProps>[]\n    series: BumpComputedSerie<Datum, ExtraProps>[]\n    xScale: ScalePoint<Datum['x']>\n    yScale: ScalePoint<number>\n    activeSerieIds: string[]\n    activePointIds: string[]\n    setActiveSerieIds: (serieIds: string[]) => void\n    setActivePointIds: (pointIds: string[]) => void\n}\nexport type BumpCustomLayer<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> = FunctionComponent<BumpCustomLayerProps<Datum, ExtraProps>>\nexport type BumpLayer<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> =\n    | BumpLayerId\n    | BumpCustomLayer<Datum, ExtraProps>\n\nexport type BumpLineTooltip<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> = FunctionComponent<{\n    serie: BumpComputedSerie<Datum, ExtraProps>\n}>\n\nexport type BumpPointTooltip<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> = FunctionComponent<{\n    point: BumpPoint<Datum, ExtraProps>\n}>\n\nexport interface BumpBaseCommonProps<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> {\n    margin: Box\n\n    interpolation: BumpInterpolation\n    xPadding: number\n    xOuterPadding: number\n    yOuterPadding: number\n\n    theme: Theme\n    colors: OrdinalColorScaleConfig<BumpSerie<Datum, ExtraProps>>\n    lineWidth: number\n    activeLineWidth: number\n    inactiveLineWidth: number\n    opacity: number\n    activeOpacity: number\n    inactiveOpacity: number\n\n    startLabel: BumpLabel<Datum, ExtraProps>\n    startLabelPadding: number\n    startLabelTextColor: InheritedColorConfig<BumpComputedSerie<Datum, ExtraProps>>\n    endLabel: BumpLabel<Datum, ExtraProps>\n    endLabelPadding: number\n    endLabelTextColor: InheritedColorConfig<BumpComputedSerie<Datum, ExtraProps>>\n\n    pointSize: number\n    activePointSize: number\n    inactivePointSize: number\n    pointColor: InheritedColorConfig<Omit<BumpPoint<Datum, ExtraProps>, 'color' | 'borderColor'>>\n    pointBorderWidth: number\n    activePointBorderWidth: number\n    inactivePointBorderWidth: number\n    pointBorderColor: InheritedColorConfig<Omit<BumpPoint<Datum, ExtraProps>, 'borderColor'>>\n\n    enableGridX: boolean\n    enableGridY: boolean\n    axisBottom: AxisProps | null\n    axisLeft: AxisProps | null\n    axisRight: AxisProps | null\n    axisTop: AxisProps | null\n\n    isInteractive: boolean\n    defaultActiveSerieIds: string[]\n    lineTooltip: BumpLineTooltip<Datum, ExtraProps>\n    pointTooltip: BumpPointTooltip<Datum, ExtraProps>\n    role: string\n    layers: BumpLayer<Datum, ExtraProps>[]\n    renderWrapper: boolean\n    useMesh: boolean\n    debugMesh: boolean\n}\n\nexport const isBumpPoint = <Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>(\n    point: BumpComputedSerie<Datum, ExtraProps> | BumpPoint<Datum, ExtraProps>\n): point is BumpPoint<Datum, ExtraProps> => {\n    return 'serie' in point\n}\n\nexport const isComputedBumpSerie = <\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n>(\n    serie: BumpComputedSerie<Datum, ExtraProps> | BumpPoint<Datum, ExtraProps>\n): serie is BumpComputedSerie<Datum, ExtraProps> => {\n    return 'points' in serie\n}\n\ninterface BumpMeshCommonProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>\n    extends BumpBaseCommonProps<Datum, ExtraProps> {\n    useMesh: true\n    onMouseEnter?: BumpPointMouseHandler<Datum, ExtraProps>\n    onMouseMove?: BumpPointMouseHandler<Datum, ExtraProps>\n    onMouseLeave?: BumpPointMouseHandler<Datum, ExtraProps>\n    onClick?: BumpPointMouseHandler<Datum, ExtraProps>\n}\n\ninterface BumpSerieCommonProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps>\n    extends BumpBaseCommonProps<Datum, ExtraProps> {\n    useMesh: false\n    onMouseEnter?: BumpSerieMouseHandler<Datum, ExtraProps>\n    onMouseMove?: BumpSerieMouseHandler<Datum, ExtraProps>\n    onMouseLeave?: BumpSerieMouseHandler<Datum, ExtraProps>\n    onClick?: BumpSerieMouseHandler<Datum, ExtraProps>\n}\n\nexport type BumpCommonProps<Datum extends BumpDatum, ExtraProps extends BumpSerieExtraProps> =\n    | BumpMeshCommonProps<Datum, ExtraProps>\n    | BumpSerieCommonProps<Datum, ExtraProps>\n\nexport type BumpResponsiveProps<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> = BumpCommonProps<Datum, ExtraProps> &\n    BumpDataProps<Datum, ExtraProps> & {\n        pointComponent?: BumpPointComponent<Datum, ExtraProps>\n    } & MotionProps\n\nexport type BumpSvgProps<\n    Datum extends BumpDatum,\n    ExtraProps extends BumpSerieExtraProps\n> = BumpResponsiveProps<Datum, ExtraProps> & Dimensions\n","import { createElement, useMemo, useCallback, useState, MouseEvent } from 'react'\nimport { area as d3Area, curveBasis, curveLinear } from 'd3-shape'\nimport { useTheme } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor, InheritedColorConfig } from '@nivo/colors'\nimport { useTooltip } from '@nivo/tooltip'\nimport { computeSeries } from './compute'\nimport {\n    AreaBumpAreaPoint,\n    AreaBumpCommonProps,\n    AreaBumpComputedSerie,\n    AreaBumpDataProps,\n    AreaBumpDatum,\n    AreaBumpInterpolation,\n    AreaBumpLabel,\n    AreaBumpLabelData,\n    AreaBumpSerieExtraProps,\n    DefaultAreaBumpDatum,\n} from './types'\n\nconst useAreaBumpSeries = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    data,\n    width,\n    height,\n    align,\n    spacing,\n    xPadding,\n}: {\n    data: AreaBumpDataProps<Datum, ExtraProps>['data']\n    width: number\n    height: number\n    align: AreaBumpCommonProps<Datum, ExtraProps>['align']\n    spacing: AreaBumpCommonProps<Datum, ExtraProps>['spacing']\n    xPadding: AreaBumpCommonProps<Datum, ExtraProps>['xPadding']\n}) =>\n    useMemo(\n        () => computeSeries<Datum, ExtraProps>({ data, width, height, align, spacing, xPadding }),\n        [data, width, height, align, spacing, xPadding]\n    )\n\nconst useAreaGenerator = (interpolation: AreaBumpInterpolation) =>\n    useMemo(\n        () =>\n            d3Area<AreaBumpAreaPoint>()\n                .x(d => d.x)\n                .y0(d => d.y0)\n                .y1(d => d.y1)\n                .curve(interpolation === 'smooth' ? curveBasis : curveLinear),\n        [interpolation]\n    )\n\nconst useSerieDerivedProp = <Target, Output extends string | number>(\n    instruction: ((target: Target) => Output) | Output\n): ((target: Target) => Output) =>\n    useMemo(() => {\n        if (typeof instruction === 'function') return instruction\n        return () => instruction\n    }, [instruction])\n\nconst useSerieStyle = <Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps>({\n    fillOpacity,\n    activeFillOpacity,\n    inactiveFillOpacity,\n    borderWidth,\n    activeBorderWidth,\n    inactiveBorderWidth,\n    borderColor,\n    borderOpacity,\n    activeBorderOpacity,\n    inactiveBorderOpacity,\n    isInteractive,\n    activeSerieIds,\n}: {\n    fillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['fillOpacity']\n    activeFillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['activeFillOpacity']\n    inactiveFillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['inactiveFillOpacity']\n    borderWidth: AreaBumpCommonProps<Datum, ExtraProps>['borderWidth']\n    activeBorderWidth: AreaBumpCommonProps<Datum, ExtraProps>['activeBorderWidth']\n    inactiveBorderWidth: AreaBumpCommonProps<Datum, ExtraProps>['inactiveBorderWidth']\n    borderColor: AreaBumpCommonProps<Datum, ExtraProps>['borderColor']\n    borderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['borderOpacity']\n    activeBorderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['activeBorderOpacity']\n    inactiveBorderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['inactiveBorderOpacity']\n    isInteractive: AreaBumpCommonProps<Datum, ExtraProps>['isInteractive']\n    activeSerieIds: string[]\n}) => {\n    type Serie = Omit<\n        AreaBumpComputedSerie<Datum, ExtraProps>,\n        'fillOpacity' | 'borderWidth' | 'borderColor' | 'borderOpacity'\n    >\n\n    const getFillOpacity = useSerieDerivedProp<Serie, number>(fillOpacity)\n    const getActiveFillOpacity = useSerieDerivedProp<Serie, number>(activeFillOpacity)\n    const getInactiveFillOpacity = useSerieDerivedProp<Serie, number>(inactiveFillOpacity)\n\n    const getBorderWidth = useSerieDerivedProp<Serie, number>(borderWidth)\n    const getActiveBorderWidth = useSerieDerivedProp<Serie, number>(activeBorderWidth)\n    const getInactiveBorderWidth = useSerieDerivedProp<Serie, number>(inactiveBorderWidth)\n\n    const theme = useTheme()\n    const getBorderColor = useInheritedColor(borderColor, theme)\n\n    const getBorderOpacity = useSerieDerivedProp<Serie, number>(borderOpacity)\n    const getActiveBorderOpacity = useSerieDerivedProp<Serie, number>(activeBorderOpacity)\n    const getInactiveBorderOpacity = useSerieDerivedProp<Serie, number>(inactiveBorderOpacity)\n\n    const getNormalStyle = useCallback(\n        (serie: Serie) => ({\n            fillOpacity: getFillOpacity(serie),\n            borderWidth: getBorderWidth(serie),\n            borderColor: getBorderColor(serie),\n            borderOpacity: getBorderOpacity(serie),\n        }),\n        [getFillOpacity, getBorderWidth, getBorderColor, getBorderOpacity]\n    )\n    const getActiveStyle = useCallback(\n        (serie: Serie) => ({\n            fillOpacity: getActiveFillOpacity(serie),\n            borderWidth: getActiveBorderWidth(serie),\n            borderColor: getBorderColor(serie),\n            borderOpacity: getActiveBorderOpacity(serie),\n        }),\n        [getActiveFillOpacity, getActiveBorderWidth, getBorderColor, getActiveBorderOpacity]\n    )\n    const getInactiveStyle = useCallback(\n        (serie: Serie) => ({\n            fillOpacity: getInactiveFillOpacity(serie),\n            borderWidth: getInactiveBorderWidth(serie),\n            borderColor: getBorderColor(serie),\n            borderOpacity: getInactiveBorderOpacity(serie),\n        }),\n        [getInactiveFillOpacity, getInactiveBorderWidth, getBorderColor, getInactiveBorderOpacity]\n    )\n\n    return useCallback(\n        (serie: Serie) => {\n            if (!isInteractive || activeSerieIds.length === 0) return getNormalStyle(serie)\n            if (activeSerieIds.includes(serie.id)) return getActiveStyle(serie)\n            return getInactiveStyle(serie)\n        },\n        [getNormalStyle, getActiveStyle, getInactiveStyle, isInteractive, activeSerieIds]\n    )\n}\n\nexport const useAreaBump = <\n    Datum extends AreaBumpDatum = DefaultAreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps = Record<string, unknown>\n>({\n    data,\n    width,\n    height,\n    align,\n    spacing,\n    xPadding,\n    interpolation,\n    colors,\n    fillOpacity,\n    activeFillOpacity,\n    inactiveFillOpacity,\n    borderWidth,\n    activeBorderWidth,\n    inactiveBorderWidth,\n    borderColor,\n    borderOpacity,\n    activeBorderOpacity,\n    inactiveBorderOpacity,\n    isInteractive,\n    defaultActiveSerieIds,\n}: {\n    data: AreaBumpDataProps<Datum, ExtraProps>['data']\n    width: number\n    height: number\n    align: AreaBumpCommonProps<Datum, ExtraProps>['align']\n    spacing: AreaBumpCommonProps<Datum, ExtraProps>['spacing']\n    xPadding: AreaBumpCommonProps<Datum, ExtraProps>['xPadding']\n    interpolation: AreaBumpCommonProps<Datum, ExtraProps>['interpolation']\n    colors: AreaBumpCommonProps<Datum, ExtraProps>['colors']\n    fillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['fillOpacity']\n    activeFillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['activeFillOpacity']\n    inactiveFillOpacity: AreaBumpCommonProps<Datum, ExtraProps>['inactiveFillOpacity']\n    borderWidth: AreaBumpCommonProps<Datum, ExtraProps>['borderWidth']\n    activeBorderWidth: AreaBumpCommonProps<Datum, ExtraProps>['activeBorderWidth']\n    inactiveBorderWidth: AreaBumpCommonProps<Datum, ExtraProps>['inactiveBorderWidth']\n    borderColor: AreaBumpCommonProps<Datum, ExtraProps>['borderColor']\n    borderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['borderOpacity']\n    activeBorderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['activeBorderOpacity']\n    inactiveBorderOpacity: AreaBumpCommonProps<Datum, ExtraProps>['inactiveBorderOpacity']\n    isInteractive: AreaBumpCommonProps<Datum, ExtraProps>['isInteractive']\n    defaultActiveSerieIds: string[]\n}) => {\n    const [activeSerieIds, setActiveSerieIds] = useState<string[]>(defaultActiveSerieIds)\n\n    const {\n        series: rawSeries,\n        xScale,\n        heightScale,\n    } = useAreaBumpSeries<Datum, ExtraProps>({\n        data,\n        width,\n        height,\n        align,\n        spacing,\n        xPadding,\n    })\n\n    const areaGenerator = useAreaGenerator(interpolation)\n\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const getSerieStyle = useSerieStyle<Datum, ExtraProps>({\n        fillOpacity,\n        activeFillOpacity,\n        inactiveFillOpacity,\n        borderWidth,\n        activeBorderWidth,\n        inactiveBorderWidth,\n        borderColor,\n        borderOpacity,\n        activeBorderOpacity,\n        inactiveBorderOpacity,\n        isInteractive,\n        activeSerieIds,\n    })\n\n    const series: AreaBumpComputedSerie<Datum, ExtraProps>[] = useMemo(\n        () =>\n            rawSeries.map(serie => {\n                const serieWithColor = {\n                    ...serie,\n                    color: getColor(serie.data),\n                }\n\n                return {\n                    ...serieWithColor,\n                    ...getSerieStyle(serieWithColor),\n                }\n            }),\n        [rawSeries, getColor, getSerieStyle]\n    )\n\n    return {\n        series,\n        xScale,\n        heightScale,\n        areaGenerator,\n        activeSerieIds,\n        setActiveSerieIds,\n    }\n}\n\nexport const useAreaBumpSerieHandlers = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    serie,\n    isInteractive,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    setActiveSerieIds,\n    tooltip,\n}: {\n    serie: AreaBumpComputedSerie<Datum, ExtraProps>\n    isInteractive: AreaBumpCommonProps<Datum, ExtraProps>['isInteractive']\n    onMouseEnter?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseEnter']\n    onMouseMove?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseMove']\n    onMouseLeave?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseLeave']\n    onClick?: AreaBumpCommonProps<Datum, ExtraProps>['onClick']\n    setActiveSerieIds: (serieIds: string[]) => void\n    tooltip: AreaBumpCommonProps<Datum, ExtraProps>['tooltip']\n}) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { serie }), event)\n            setActiveSerieIds([serie.id])\n            onMouseEnter && onMouseEnter(serie, event)\n        },\n        [serie, onMouseEnter, showTooltipFromEvent, setActiveSerieIds, tooltip]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            showTooltipFromEvent(createElement(tooltip, { serie }), event)\n            onMouseMove && onMouseMove(serie, event)\n        },\n        [serie, onMouseMove, showTooltipFromEvent, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            hideTooltip()\n            setActiveSerieIds([])\n            onMouseLeave && onMouseLeave(serie, event)\n        },\n        [serie, onMouseLeave, hideTooltip, setActiveSerieIds]\n    )\n\n    const handleClick = useCallback(\n        (event: MouseEvent<SVGPathElement>) => {\n            onClick && onClick(serie, event)\n        },\n        [serie, onClick]\n    )\n\n    return useMemo(\n        () => ({\n            onMouseEnter: isInteractive ? handleMouseEnter : undefined,\n            onMouseMove: isInteractive ? handleMouseMove : undefined,\n            onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n            onClick: isInteractive ? handleClick : undefined,\n        }),\n        [isInteractive, handleMouseEnter, handleMouseMove, handleMouseLeave, handleClick]\n    )\n}\n\nexport const useAreaBumpSeriesLabels = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    series,\n    position,\n    padding,\n    color,\n    getLabel,\n}: {\n    series: AreaBumpComputedSerie<Datum, ExtraProps>[]\n    position: 'start' | 'end'\n    padding: number\n    color: InheritedColorConfig<AreaBumpComputedSerie<Datum, ExtraProps>>\n    getLabel: Exclude<AreaBumpLabel<Datum, ExtraProps>, false>\n}): AreaBumpLabelData<Datum, ExtraProps>[] => {\n    const theme = useTheme()\n    const getColor = useInheritedColor(color, theme)\n\n    return useMemo(() => {\n        let textAnchor: 'start' | 'end'\n        let signedPadding: number\n        if (position === 'start') {\n            textAnchor = 'end'\n            signedPadding = padding * -1\n        } else {\n            textAnchor = 'start'\n            signedPadding = padding\n        }\n\n        return series.map(serie => {\n            let label = serie.id\n            if (typeof getLabel === 'function') {\n                label = getLabel(serie.data)\n            }\n\n            const point =\n                position === 'start' ? serie.points[0] : serie.points[serie.points.length - 1]\n\n            return {\n                id: serie.id,\n                label,\n                x: point.x + signedPadding,\n                y: point.y,\n                color: getColor(serie),\n                opacity: serie.fillOpacity,\n                serie,\n                textAnchor,\n            }\n        })\n    }, [getLabel, series, position, padding, getColor])\n}\n","import { scalePoint, scaleLinear } from 'd3-scale'\nimport { castPointScale, castLinearScale, ScalePoint, ScaleLinear } from '@nivo/scales'\nimport {\n    AreaBumpCommonProps,\n    AreaBumpComputedSerie,\n    AreaBumpDataProps,\n    AreaBumpDatum,\n    AreaBumpSerieExtraProps,\n} from './types'\n\nexport const computeSeries = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    data,\n    width,\n    height,\n    align,\n    spacing,\n    xPadding,\n}: {\n    data: AreaBumpDataProps<Datum, ExtraProps>['data']\n    width: number\n    height: number\n    align: AreaBumpCommonProps<Datum, ExtraProps>['align']\n    spacing: AreaBumpCommonProps<Datum, ExtraProps>['spacing']\n    xPadding: AreaBumpCommonProps<Datum, ExtraProps>['xPadding']\n}): {\n    series: Omit<\n        AreaBumpComputedSerie<Datum, ExtraProps>,\n        'color' | 'fill' | 'fillOpacity' | 'borderWidth' | 'borderColor' | 'borderOpacity'\n    >[]\n    xScale: ScalePoint<Datum['x']>\n    heightScale: ScaleLinear<number>\n} => {\n    const slices = new Map<\n        Datum['x'],\n        {\n            id: Datum['x']\n            total: number\n            x: number\n            values: Map<\n                string,\n                {\n                    serieId: string\n                    value: number\n                    position: number\n                    height: number\n                    beforeHeight: number\n                }\n            >\n        }\n    >()\n\n    let maxSum: number\n    let maxValues: number\n\n    data.forEach(serie => {\n        serie.data.forEach(datum => {\n            if (!slices.has(datum.x)) {\n                slices.set(datum.x, {\n                    id: datum.x,\n                    total: 0,\n                    values: new Map(),\n                    x: 0,\n                })\n            }\n\n            const slice = slices.get(datum.x)!\n\n            const total = slice.total + datum.y\n            slice.total = total\n\n            slice.values.set(serie.id, {\n                serieId: serie.id,\n                value: datum.y,\n                position: 0,\n                height: 0,\n                beforeHeight: 0,\n            })\n\n            if (maxSum === undefined || total > maxSum) {\n                maxSum = total\n            }\n            if (maxValues === undefined || slice.values.size > maxValues) {\n                maxValues = slice.values.size\n            }\n        })\n    })\n\n    const xScale = castPointScale<Datum['x']>(\n        scalePoint<Datum['x']>().domain(Array.from(slices.keys())).range([0, width])\n    )\n\n    const heightScale = castLinearScale<number, number>(\n        scaleLinear<number, number>()\n            .domain([0, maxSum!])\n            .range([0, height - maxValues! * spacing])\n    )\n\n    slices.forEach((slice, x) => {\n        slice.x = xScale(x)!\n        const sliceHeight = heightScale(slice.total) + slice.values.size * spacing\n\n        let offset = 0\n        if (align === 'middle') {\n            offset = (height - sliceHeight) / 2\n        } else if (align === 'end') {\n            offset = height - sliceHeight\n        }\n\n        Array.from(slice.values.values())\n            .sort((a, b) => b.value - a.value)\n            .forEach((value, position, all) => {\n                const previousValues = all.filter((_i, pos) => pos < position)\n                const beforeValue = previousValues.reduce((t, v) => t + v.value, 0)\n\n                const sliceValue = slice.values.get(value.serieId)!\n                sliceValue.position = position\n                sliceValue.height = heightScale(value.value)\n                sliceValue.beforeHeight =\n                    heightScale(beforeValue) + offset + spacing * (previousValues.length + 0.5)\n            })\n    })\n\n    const areaPointPadding = xScale.step() * Math.min(xPadding * 0.5, 0.5)\n\n    const series = data.map(serie => {\n        const computedSerie: Omit<\n            AreaBumpComputedSerie<Datum, ExtraProps>,\n            'color' | 'fill' | 'fillOpacity' | 'borderWidth' | 'borderColor' | 'borderOpacity'\n        > = {\n            id: serie.id,\n            data: serie,\n            points: [],\n            areaPoints: [],\n        }\n\n        serie.data.forEach((datum, i) => {\n            const slice = slices.get(datum.x)!\n            const position = slice.values.get(serie.id)!\n\n            const x = slice.x\n            const { beforeHeight, height } = position\n            const y = beforeHeight + height / 2\n            const y0 = beforeHeight\n            const y1 = beforeHeight + height\n\n            computedSerie.points.push({\n                x,\n                y,\n                height,\n                data: { ...datum },\n            })\n            if (i > 0) {\n                computedSerie.areaPoints.push({ x: x - areaPointPadding, y0, y1 })\n            }\n            computedSerie.areaPoints.push({ x, y0, y1 })\n            if (i < serie.data.length - 1) {\n                computedSerie.areaPoints.push({ x: x + areaPointPadding, y0, y1 })\n            }\n        })\n\n        return computedSerie\n    })\n\n    return {\n        series,\n        xScale,\n        heightScale,\n    }\n}\n","import { useSpring, animated } from '@react-spring/web'\nimport { useAnimatedPath, useMotionConfig } from '@nivo/core'\nimport { useAreaBumpSerieHandlers } from './hooks'\nimport {\n    AreaBumpAreaGenerator,\n    AreaBumpCommonProps,\n    AreaBumpComputedSerie,\n    AreaBumpDatum,\n    AreaBumpSerieExtraProps,\n} from './types'\n\ninterface AreaProps<Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps> {\n    serie: AreaBumpComputedSerie<Datum, ExtraProps>\n    areaGenerator: AreaBumpAreaGenerator\n    blendMode: AreaBumpCommonProps<Datum, ExtraProps>['blendMode']\n    isInteractive: AreaBumpCommonProps<Datum, ExtraProps>['isInteractive']\n    onMouseEnter?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseEnter']\n    onMouseMove?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseMove']\n    onMouseLeave?: AreaBumpCommonProps<Datum, ExtraProps>['onMouseLeave']\n    onClick?: AreaBumpCommonProps<Datum, ExtraProps>['onClick']\n    setActiveSerieIds: (serieIds: string[]) => void\n    tooltip: AreaBumpCommonProps<Datum, ExtraProps>['tooltip']\n}\n\nexport const Area = <Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps>({\n    serie,\n    areaGenerator,\n    blendMode,\n    isInteractive,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    setActiveSerieIds,\n    tooltip,\n}: AreaProps<Datum, ExtraProps>) => {\n    const handlers = useAreaBumpSerieHandlers<Datum, ExtraProps>({\n        serie,\n        isInteractive,\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n        setActiveSerieIds,\n        tooltip,\n    })\n\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedPath = useAnimatedPath(areaGenerator(serie.areaPoints) || '')\n    const animatedProps = useSpring<{\n        color: string\n        fillOpacity: number\n        stroke: string\n        strokeOpacity: number\n    }>({\n        color: serie.color,\n        fillOpacity: serie.fillOpacity,\n        stroke: serie.borderColor,\n        strokeOpacity: serie.borderOpacity,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.path\n            data-testid={`area.${serie.id}`}\n            d={animatedPath}\n            fill={serie.fill ? serie.fill : animatedProps.color}\n            fillOpacity={animatedProps.fillOpacity}\n            stroke={animatedProps.stroke}\n            strokeWidth={serie.borderWidth}\n            strokeOpacity={animatedProps.strokeOpacity}\n            style={{ mixBlendMode: blendMode }}\n            onMouseEnter={handlers.onMouseEnter}\n            onMouseMove={handlers.onMouseMove}\n            onMouseLeave={handlers.onMouseLeave}\n            onClick={handlers.onClick}\n        />\n    )\n}\n","import { useSprings, animated } from '@react-spring/web'\nimport { useTheme, useMotionConfig } from '@nivo/core'\nimport { InheritedColorConfig } from '@nivo/colors'\nimport {\n    AreaBumpComputedSerie,\n    AreaBumpDatum,\n    AreaBumpLabel,\n    AreaBumpSerieExtraProps,\n} from './types'\nimport { useAreaBumpSeriesLabels } from './hooks'\n\ninterface AreaLabelsProps<Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps> {\n    getLabel: Exclude<AreaBumpLabel<Datum, ExtraProps>, false>\n    series: AreaBumpComputedSerie<Datum, ExtraProps>[]\n    position: 'start' | 'end'\n    padding: number\n    color: InheritedColorConfig<AreaBumpComputedSerie<Datum, ExtraProps>>\n}\n\nexport const AreasLabels = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    getLabel,\n    series,\n    position,\n    padding,\n    color,\n}: AreaLabelsProps<Datum, ExtraProps>) => {\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const labels = useAreaBumpSeriesLabels<Datum, ExtraProps>({\n        getLabel,\n        series,\n        position,\n        padding,\n        color,\n    })\n\n    const springs = useSprings<{\n        x: number\n        y: number\n        opacity: number\n    }>(\n        labels.length,\n        labels.map(label => ({\n            x: label.x,\n            y: label.y,\n            opacity: label.opacity,\n            config: springConfig,\n            immediate: !animate,\n        }))\n    )\n\n    return (\n        <>\n            {springs.map((animatedProps, index) => {\n                const label = labels[index]\n\n                return (\n                    <animated.text\n                        data-testid={`label.${position}.${label.serie.id}`}\n                        key={label.id}\n                        x={animatedProps.x}\n                        y={animatedProps.y}\n                        textAnchor={label.textAnchor}\n                        dominantBaseline=\"central\"\n                        opacity={animatedProps.opacity}\n                        style={{\n                            ...theme.labels.text,\n                            fill: label.color,\n                        }}\n                    >\n                        {label.label}\n                    </animated.text>\n                )\n            })}\n        </>\n    )\n}\n","import { MotionProps, SvgDefsAndFill } from '@nivo/core'\nimport { AreaBumpCommonProps, AreaBumpComputedSerie, DefaultAreaBumpDatum } from './types'\nimport { AreaTooltip } from './AreaTooltip'\n\nconst commonDefaultProps: Omit<\n    AreaBumpCommonProps<DefaultAreaBumpDatum, Record<string, unknown>>,\n    | 'onMouseEnter'\n    | 'onMouseMove'\n    | 'onMouseLeave'\n    | 'onClick'\n    | 'margin'\n    | 'theme'\n    | 'renderWrapper'\n> = {\n    align: 'middle',\n\n    layers: ['grid', 'axes', 'labels', 'areas'],\n\n    interpolation: 'smooth',\n    spacing: 0,\n    xPadding: 0.6,\n\n    colors: { scheme: 'nivo' },\n    blendMode: 'normal',\n    fillOpacity: 0.8,\n    activeFillOpacity: 1,\n    inactiveFillOpacity: 0.15,\n    borderWidth: 1,\n    activeBorderWidth: 1,\n    inactiveBorderWidth: 0,\n    borderColor: { from: 'color', modifiers: [['darker', 0.4]] },\n    borderOpacity: 1,\n    activeBorderOpacity: 1,\n    inactiveBorderOpacity: 0,\n\n    startLabel: false,\n    startLabelPadding: 12,\n    startLabelTextColor: { from: 'color', modifiers: [['darker', 1]] },\n    endLabel: true,\n    endLabelPadding: 12,\n    endLabelTextColor: { from: 'color', modifiers: [['darker', 1]] },\n\n    enableGridX: true,\n    axisTop: {},\n    axisBottom: {},\n\n    isInteractive: true,\n    defaultActiveSerieIds: [],\n    tooltip: AreaTooltip,\n\n    role: 'img',\n}\n\nexport const areaBumpSvgDefaultProps: typeof commonDefaultProps &\n    SvgDefsAndFill<AreaBumpComputedSerie<DefaultAreaBumpDatum, Record<string, unknown>>> & {\n        animate: boolean\n        motionConfig: MotionProps['motionConfig']\n    } = {\n    ...commonDefaultProps,\n    defs: [],\n    fill: [],\n    animate: true,\n    motionConfig: 'gentle',\n}\n","import { BasicTooltip } from '@nivo/tooltip'\nimport { AreaBumpDatum, AreaBumpComputedSerie, AreaBumpSerieExtraProps } from './types'\n\ninterface AreaTooltipProps<\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n> {\n    serie: AreaBumpComputedSerie<Datum, ExtraProps>\n}\n\nexport const AreaTooltip = <\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n>({\n    serie,\n}: AreaTooltipProps<Datum, ExtraProps>) => (\n    <BasicTooltip id={serie.id} enableChip={true} color={serie.color} />\n)\n","import { Fragment, useMemo, ReactNode, createElement } from 'react'\nimport {\n    // @ts-ignore\n    bindDefs,\n    useDimensions,\n    SvgWrapper,\n    Container,\n} from '@nivo/core'\nimport { Grid, Axes } from '@nivo/axes'\nimport { useAreaBump } from './hooks'\nimport { Area } from './Area'\nimport { AreasLabels } from './AreasLabels'\nimport {\n    AreaBumpSvgProps,\n    AreaBumpDatum,\n    DefaultAreaBumpDatum,\n    AreaBumpLayerId,\n    AreaBumpCustomLayerProps,\n    AreaBumpSerieExtraProps,\n} from './types'\nimport { areaBumpSvgDefaultProps } from './defaults'\n\ntype InnerAreaBumpProps<\n    Datum extends AreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps\n> = Omit<\n    AreaBumpSvgProps<Datum, ExtraProps>,\n    'animate' | 'motionConfig' | 'renderWrapper' | 'theme'\n>\n\nconst InnerAreaBump = <Datum extends AreaBumpDatum, ExtraProps extends AreaBumpSerieExtraProps>({\n    data,\n    align = areaBumpSvgDefaultProps.align,\n\n    width,\n    height,\n    margin: partialMargin,\n\n    layers = areaBumpSvgDefaultProps.layers as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['layers']\n    >,\n\n    interpolation = areaBumpSvgDefaultProps.interpolation,\n    spacing = areaBumpSvgDefaultProps.spacing,\n    xPadding = areaBumpSvgDefaultProps.xPadding,\n\n    colors = areaBumpSvgDefaultProps.colors as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['colors']\n    >,\n    blendMode = areaBumpSvgDefaultProps.blendMode,\n    fillOpacity = areaBumpSvgDefaultProps.fillOpacity,\n    activeFillOpacity = areaBumpSvgDefaultProps.activeFillOpacity,\n    inactiveFillOpacity = areaBumpSvgDefaultProps.inactiveFillOpacity,\n    defs = areaBumpSvgDefaultProps.defs,\n    fill = areaBumpSvgDefaultProps.fill as NonNullable<AreaBumpSvgProps<Datum, ExtraProps>['fill']>,\n    borderWidth = areaBumpSvgDefaultProps.borderWidth,\n    activeBorderWidth = areaBumpSvgDefaultProps.activeBorderWidth,\n    inactiveBorderWidth = areaBumpSvgDefaultProps.inactiveBorderWidth,\n    borderColor = areaBumpSvgDefaultProps.borderColor as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['borderColor']\n    >,\n    borderOpacity = areaBumpSvgDefaultProps.borderOpacity,\n    activeBorderOpacity = areaBumpSvgDefaultProps.activeBorderOpacity,\n    inactiveBorderOpacity = areaBumpSvgDefaultProps.inactiveBorderOpacity,\n\n    startLabel = areaBumpSvgDefaultProps.startLabel as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['startLabel']\n    >,\n    startLabelPadding = areaBumpSvgDefaultProps.startLabelPadding,\n    startLabelTextColor = areaBumpSvgDefaultProps.startLabelTextColor as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['startLabelTextColor']\n    >,\n    endLabel = areaBumpSvgDefaultProps.endLabel as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['endLabel']\n    >,\n    endLabelPadding = areaBumpSvgDefaultProps.endLabelPadding,\n    endLabelTextColor = areaBumpSvgDefaultProps.endLabelTextColor as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['endLabelTextColor']\n    >,\n\n    enableGridX = areaBumpSvgDefaultProps.enableGridX,\n    axisTop = areaBumpSvgDefaultProps.axisTop,\n    axisBottom = areaBumpSvgDefaultProps.axisBottom,\n\n    isInteractive = areaBumpSvgDefaultProps.isInteractive,\n    defaultActiveSerieIds = areaBumpSvgDefaultProps.defaultActiveSerieIds,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    tooltip = areaBumpSvgDefaultProps.tooltip as NonNullable<\n        AreaBumpSvgProps<Datum, ExtraProps>['tooltip']\n    >,\n    role = areaBumpSvgDefaultProps.role,\n}: InnerAreaBumpProps<Datum, ExtraProps>) => {\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { series, xScale, heightScale, areaGenerator, setActiveSerieIds } = useAreaBump<\n        Datum,\n        ExtraProps\n    >({\n        data,\n        width: innerWidth,\n        height: innerHeight,\n        align,\n        spacing,\n        xPadding,\n        interpolation,\n        colors,\n        fillOpacity,\n        activeFillOpacity,\n        inactiveFillOpacity,\n        borderWidth,\n        activeBorderWidth,\n        inactiveBorderWidth,\n        borderColor,\n        borderOpacity,\n        activeBorderOpacity,\n        inactiveBorderOpacity,\n        isInteractive,\n        defaultActiveSerieIds,\n    })\n\n    const boundDefs = useMemo(\n        () => bindDefs(defs, series, fill, { targetKey: 'fill' }),\n        [defs, series, fill]\n    )\n\n    const layerById: Record<AreaBumpLayerId, ReactNode> = {\n        grid: null,\n        axes: null,\n        labels: null,\n        areas: null,\n    }\n\n    if (layers.includes('grid') && enableGridX) {\n        layerById.grid = <Grid key=\"grid\" width={innerWidth} height={innerHeight} xScale={xScale} />\n    }\n\n    if (layers.includes('axes')) {\n        layerById.axes = (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={heightScale}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                bottom={axisBottom}\n            />\n        )\n    }\n\n    if (layers.includes('areas')) {\n        layerById.areas = (\n            <Fragment key=\"areas\">\n                {series.map(serie => (\n                    <Area<Datum, ExtraProps>\n                        key={serie.id}\n                        areaGenerator={areaGenerator}\n                        serie={serie}\n                        blendMode={blendMode}\n                        isInteractive={isInteractive}\n                        setActiveSerieIds={setActiveSerieIds}\n                        onMouseEnter={onMouseEnter}\n                        onMouseMove={onMouseMove}\n                        onMouseLeave={onMouseLeave}\n                        onClick={onClick}\n                        tooltip={tooltip}\n                    />\n                ))}\n            </Fragment>\n        )\n    }\n\n    if (layers.includes('labels')) {\n        layerById.labels = (\n            <Fragment key=\"labels\">\n                {startLabel !== false && (\n                    <AreasLabels<Datum, ExtraProps>\n                        getLabel={startLabel}\n                        series={series}\n                        position=\"start\"\n                        padding={startLabelPadding}\n                        color={startLabelTextColor}\n                    />\n                )}\n                {endLabel !== false && (\n                    <AreasLabels<Datum, ExtraProps>\n                        getLabel={endLabel}\n                        series={series}\n                        position=\"end\"\n                        padding={endLabelPadding}\n                        color={endLabelTextColor}\n                    />\n                )}\n            </Fragment>\n        )\n    }\n\n    const customLayerProps: AreaBumpCustomLayerProps<Datum, ExtraProps> = useMemo(\n        () => ({\n            innerWidth,\n            innerHeight,\n            outerWidth,\n            outerHeight,\n            series,\n            xScale,\n            areaGenerator,\n        }),\n        [innerWidth, innerHeight, outerWidth, outerHeight, series, xScale, areaGenerator]\n    )\n\n    return (\n        <SvgWrapper\n            defs={boundDefs}\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, customLayerProps)}</Fragment>\n                }\n\n                return layerById?.[layer] ?? null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const AreaBump = <\n    Datum extends AreaBumpDatum = DefaultAreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps = Record<string, unknown>\n>({\n    isInteractive = areaBumpSvgDefaultProps.isInteractive,\n    animate = areaBumpSvgDefaultProps.animate,\n    motionConfig = areaBumpSvgDefaultProps.motionConfig,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: AreaBumpSvgProps<Datum, ExtraProps>) => (\n    <Container\n        {...{\n            animate,\n            isInteractive,\n            motionConfig,\n            renderWrapper,\n            theme,\n        }}\n    >\n        <InnerAreaBump<Datum, ExtraProps> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import { ResponsiveWrapper } from '@nivo/core'\nimport {\n    AreaBumpDatum,\n    AreaBumpSerieExtraProps,\n    AreaBumpSvgProps,\n    DefaultAreaBumpDatum,\n} from './types'\nimport { AreaBump } from './AreaBump'\n\nexport const ResponsiveAreaBump = <\n    Datum extends AreaBumpDatum = DefaultAreaBumpDatum,\n    ExtraProps extends AreaBumpSerieExtraProps = Record<string, unknown>\n>(\n    props: Omit<AreaBumpSvgProps<Datum, ExtraProps>, 'width' | 'height'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => (\n            <AreaBump<Datum, ExtraProps> width={width} height={height} {...props} />\n        )}\n    </ResponsiveWrapper>\n)\n"],"names":["useSerieDerivedProp","instruction","useMemo","useBump","_ref3","width","height","data","interpolation","xPadding","xOuterPadding","yOuterPadding","lineWidth","activeLineWidth","inactiveLineWidth","colors","opacity","activeOpacity","inactiveOpacity","pointSize","activePointSize","inactivePointSize","pointColor","pointBorderWidth","activePointBorderWidth","inactivePointBorderWidth","pointBorderColor","isInteractive","defaultActiveSerieIds","_useState","useState","activeSerieIds","setActiveSerieIds","_useState2","activePointIds","setActivePointIds","_useMemo","_ref","xValuesSet","Set","yValuesSet","forEach","serie","datum","add","x","y","xValues","Array","from","xScale","castPointScale","scalePoint","domain","range","padding","yValues","sort","a","b","yScale","linePointPadding","step","Math","min","series","map","rawSerie","id","points","linePoints","i","point","push","length","filter","computeSeries","rawSeries","lineGenerator","d3Line","curve","curveBasis","curveLinear","defined","d","useLineGenerator","getColor","useOrdinalColorScale","getSerieStyle","getLineWidth","getActiveLineWidth","getInactiveLineWidth","getOpacity","getActiveOpacity","getInactiveOpacity","getNormalStyle","useCallback","getActiveStyle","getInactiveStyle","includes","useSerieStyle","_extends","color","theme","useTheme","getPointColor","useInheritedColor","getPointBorderColor","getPointStyle","_ref2","getSize","getActiveSize","getInactiveSize","getBorderWidth","getActiveBorderWidth","getInactiveBorderWidth","size","borderWidth","usePointStyle","pts","rawPoint","isActive","isInactive","borderColor","useBumpSerieHandlers","_ref4","onMouseEnter","onMouseMove","onMouseLeave","onClick","tooltip","lineTooltip","_useTooltip","useTooltip","showTooltipFromEvent","hideTooltip","handleMouseEnter","event","createElement","handleMouseMove","handleMouseLeave","handleClick","undefined","useBumpPointHandlers","_ref5","pointTooltip","_useTooltip2","useBumpSeriesLabels","_ref6","position","getLabel","textAnchor","signedPadding","labels","label","pointStyle","pointerEvents","bumpSvgDefaultProps","layers","scheme","startLabel","startLabelPadding","startLabelTextColor","endLabel","endLabelPadding","endLabelTextColor","modifiers","enableGridX","enableGridY","axisTop","axisBottom","axisLeft","_jsx","BasicTooltip","enableChip","memo","_jsxs","children","useMesh","debugMesh","role","pointComponent","_useMotionConfig","useMotionConfig","animate","springConfig","config","animatedProps","useSpring","radius","immediate","animated","circle","cx","cy","r","to","v","max","fill","strokeWidth","stroke","style","motionConfig","Line","yStep","handlers","linePath","animatedPath","useAnimatedPath","_Fragment","path","strokeLinecap","strokeOpacity","LinesLabels","springs","useSprings","index","text","dominantBaseline","Mesh","margin","debug","showTooltipAt","_point$y","left","top","_point$y2","BaseMesh","nodes","InnerBump","partialMargin","_ref$layers","_ref$interpolation","_ref$xPadding","_ref$xOuterPadding","_ref$yOuterPadding","_ref$colors","_ref$lineWidth","_ref$activeLineWidth","_ref$inactiveLineWidt","_ref$opacity","_ref$activeOpacity","_ref$inactiveOpacity","_ref$startLabel","_ref$startLabelPaddin","_ref$startLabelTextCo","_ref$endLabel","_ref$endLabelPadding","_ref$endLabelTextColo","_ref$pointComponent","_ref$pointSize","_ref$activePointSize","_ref$inactivePointSiz","_ref$pointColor","_ref$pointBorderWidth","_ref$activePointBorde","_ref$inactivePointBor","_ref$pointBorderColor","_ref$enableGridX","_ref$enableGridY","_ref$axisTop","axisRight","_ref$axisBottom","_ref$axisLeft","_ref$isInteractive","_ref$defaultActiveSer","_ref$useMesh","_ref$debugMesh","_ref$lineTooltip","_ref$pointTooltip","_ref$role","_useDimensions","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","_useBump","layerById","grid","axes","lines","mesh","Grid","Axes","right","bottom","Fragment","key","customLayerProps","SvgWrapper","layer","_layerById$layer","Bump","_ref2$isInteractive","_ref2$animate","_ref2$motionConfig","renderWrapper","otherProps","_objectWithoutPropertiesLoose","_excluded","Container","ResponsiveBump","props","ResponsiveWrapper","isBumpPoint","isComputedBumpSerie","useAreaBumpSeries","align","spacing","maxSum","maxValues","slices","Map","has","set","total","values","slice","get","serieId","value","beforeHeight","keys","heightScale","castLinearScale","scaleLinear","sliceHeight","offset","all","previousValues","_i","pos","beforeValue","reduce","t","sliceValue","areaPointPadding","computedSerie","areaPoints","y0","y1","useAreaBump","fillOpacity","activeFillOpacity","inactiveFillOpacity","activeBorderWidth","inactiveBorderWidth","borderOpacity","activeBorderOpacity","inactiveBorderOpacity","_useAreaBumpSeries","areaGenerator","d3Area","useAreaGenerator","getFillOpacity","getActiveFillOpacity","getInactiveFillOpacity","getBorderColor","getBorderOpacity","getActiveBorderOpacity","getInactiveBorderOpacity","serieWithColor","useAreaBumpSerieHandlers","useAreaBumpSeriesLabels","Area","blendMode","mixBlendMode","AreasLabels","areaBumpSvgDefaultProps","defs","InnerAreaBump","_ref$align","_ref$spacing","_ref$blendMode","_ref$fillOpacity","_ref$activeFillOpacit","_ref$inactiveFillOpac","_ref$defs","_ref$fill","_ref$borderWidth","_ref$activeBorderWidt","_ref$inactiveBorderWi","_ref$borderColor","_ref$borderOpacity","_ref$activeBorderOpac","_ref$inactiveBorderOp","_ref$tooltip","_useAreaBump","boundDefs","bindDefs","targetKey","areas","AreaBump","ResponsiveAreaBump"],"mappings":"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"}