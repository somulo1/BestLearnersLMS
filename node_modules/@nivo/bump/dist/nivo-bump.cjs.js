"use strict";var e=require("react"),i=require("@nivo/core"),t=require("@nivo/axes"),o=require("d3-shape"),n=require("@nivo/colors"),r=require("@nivo/tooltip"),a=require("d3-scale"),d=require("@nivo/scales"),s=require("react/jsx-runtime"),l=require("@react-spring/web"),c=require("@nivo/voronoi");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},u.apply(this,arguments)}function v(e,i){if(null==e)return{};var t,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],i.indexOf(t)>=0||(n[t]=e[t]);return n}var p=function(i){return e.useMemo((function(){return"function"==typeof i?i:function(){return i}}),[i])},h=function(t){var r=t.width,s=t.height,l=t.data,c=t.interpolation,v=t.xPadding,h=t.xOuterPadding,f=t.yOuterPadding,g=t.lineWidth,x=t.activeLineWidth,m=t.inactiveLineWidth,y=t.colors,b=t.opacity,M=t.activeOpacity,C=t.inactiveOpacity,P=t.pointSize,S=t.activePointSize,W=t.inactivePointSize,O=t.pointColor,L=t.pointBorderWidth,I=t.activePointBorderWidth,B=t.inactivePointBorderWidth,k=t.pointBorderColor,A=t.isInteractive,T=t.defaultActiveSerieIds,j=e.useState(T),E=j[0],w=j[1],z=e.useState(T),F=z[0],G=z[1],H=e.useMemo((function(){return function(e){var i=e.width,t=e.height,o=e.data,n=e.xPadding,r=e.xOuterPadding,s=e.yOuterPadding,l=new Set,c=new Set;o.forEach((function(e){e.data.forEach((function(e){l.add(e.x),null!==e.y&&c.add(e.y)}))}));var u=Array.from(l),v=d.castPointScale(a.scalePoint().domain(u).range([0,i]).padding(r)),p=Array.from(c).sort((function(e,i){return e-i})),h=d.castPointScale(a.scalePoint().domain(p).range([0,t]).padding(s)),f=v.step()*Math.min(.5*n,.5);return{series:o.map((function(e){var t={id:e.id,data:e,points:[],linePoints:[]};return e.data.forEach((function(o,n){var r=null,a=null;null!==o.y&&(r=v(o.x),a=h(o.y));var d={id:e.id+"."+n,serie:e,data:o,x:r,y:a};t.points.push(d),null!==d.x&&(0===n?t.linePoints.push([0,d.y]):t.linePoints.push([d.x-f,d.y])),t.linePoints.push([d.x,d.y]),null!==r&&(n===e.data.length-1&&r?t.linePoints.push([i,d.y]):t.linePoints.push([d.x+f,d.y])),t.points=t.points.filter((function(e){return null!==e.x}))})),t})),xScale:v,yScale:h}}({width:r,height:s,data:l,xPadding:v,xOuterPadding:h,yOuterPadding:f})}),[r,s,l,v,h,f]),q=H.series,X=H.xScale,D=H.yScale,R=function(i){return e.useMemo((function(){return o.line().curve("smooth"===i?o.curveBasis:o.curveLinear).defined((function(e){return null!==e[0]&&null!==e[1]}))}),[i])}(c),Y=n.useOrdinalColorScale(y,"id"),K=function(i){var t=i.lineWidth,o=i.activeLineWidth,n=i.inactiveLineWidth,r=i.opacity,a=i.activeOpacity,d=i.inactiveOpacity,s=i.isInteractive,l=i.activeSerieIds,c=p(t),u=p(o),v=p(n),h=p(r),f=p(a),g=p(d),x=e.useCallback((function(e){return{opacity:h(e),lineWidth:c(e)}}),[c,h]),m=e.useCallback((function(e){return{opacity:f(e),lineWidth:u(e)}}),[u,f]),y=e.useCallback((function(e){return{opacity:g(e),lineWidth:v(e)}}),[v,g]);return e.useCallback((function(e){return s&&0!==l.length?l.includes(e.id)?m(e):y(e):x(e)}),[x,m,y,s,l])}({lineWidth:g,activeLineWidth:x,inactiveLineWidth:m,opacity:b,activeOpacity:M,inactiveOpacity:C,isInteractive:A,activeSerieIds:E}),J=e.useMemo((function(){return q.map((function(e){return u({},e,{color:Y(e.data)},K(e))}))}),[q,Y,K]),N=i.useTheme(),Q=n.useInheritedColor(O,N),U=n.useInheritedColor(k,N),V=function(i){var t=i.pointSize,o=i.activePointSize,n=i.inactivePointSize,r=i.pointBorderWidth,a=i.activePointBorderWidth,d=i.inactivePointBorderWidth,s=i.isInteractive,l=i.activePointIds,c=p(t),u=p(o),v=p(n),h=p(r),f=p(a),g=p(d),x=e.useCallback((function(e){return{size:c(e),borderWidth:h(e)}}),[c,h]),m=e.useCallback((function(e){return{size:u(e),borderWidth:f(e)}}),[u,f]),y=e.useCallback((function(e){return{size:v(e),borderWidth:g(e)}}),[v,g]);return e.useCallback((function(e){return s&&0!==l.length?l.includes(e.id)?m(e):y(e):x(e)}),[x,m,y,s,l])}({pointSize:P,activePointSize:S,inactivePointSize:W,pointBorderWidth:L,activePointBorderWidth:I,inactivePointBorderWidth:B,isInteractive:A,activePointIds:F}),Z=e.useMemo((function(){var e=[];return J.forEach((function(i){i.points.forEach((function(t){var o=u({},t,{serie:i,isActive:E.includes(i.id),isInactive:E.length>0&&!E.includes(i.id)});o.color=Q(o),o.borderColor=U(o),e.push(u({},o,V(o)))}))})),e}),[J,E,Q,U,V]);return{xScale:X,yScale:D,series:J,points:Z,lineGenerator:R,activeSerieIds:E,setActiveSerieIds:w,activePointIds:F,setActivePointIds:G}},f=function(i){var t=i.serie,o=i.isInteractive,n=i.onMouseEnter,a=i.onMouseMove,d=i.onMouseLeave,s=i.onClick,l=i.setActiveSerieIds,c=i.lineTooltip,u=r.useTooltip(),v=u.showTooltipFromEvent,p=u.hideTooltip,h=e.useCallback((function(i){v(e.createElement(c,{serie:t}),i),l([t.id]),n&&n(t,i)}),[t,n,v,l,c]),f=e.useCallback((function(i){v(e.createElement(c,{serie:t}),i),a&&a(t,i)}),[t,a,v,c]),g=e.useCallback((function(e){p(),l([]),d&&d(t,e)}),[t,d,p,l]),x=e.useCallback((function(e){s&&s(t,e)}),[t,s]);return e.useMemo((function(){return{onMouseEnter:o?h:void 0,onMouseMove:o?f:void 0,onMouseLeave:o?g:void 0,onClick:o?x:void 0}}),[o,h,f,g,x])},g=function(t){var o=t.series,r=t.position,a=t.padding,d=t.color,s=t.getLabel,l=i.useTheme(),c=n.useInheritedColor(d,l);return e.useMemo((function(){var e,i;"start"===r?(e="end",i=-1*a):(e="start",i=a);var t=[];return o.forEach((function(o){var n=o.id;"function"==typeof s&&(n=s(o.data));var a="start"===r?o.linePoints[0]:o.linePoints[o.linePoints.length-1];null!==(null==a?void 0:a[0])&&null!==(null==a?void 0:a[1])&&t.push({id:o.id,label:n,x:a[0]+i,y:a[1],color:c(o),opacity:o.opacity,serie:o,textAnchor:e})})),t}),[o,r,a,c,s])},x={pointerEvents:"none"},m=u({},{layers:["grid","axes","labels","lines","points","mesh"],interpolation:"smooth",xPadding:.6,xOuterPadding:.5,yOuterPadding:.5,colors:{scheme:"nivo"},lineWidth:2,activeLineWidth:4,inactiveLineWidth:1,opacity:1,activeOpacity:1,inactiveOpacity:.3,startLabel:!1,startLabelPadding:16,startLabelTextColor:{from:"color"},endLabel:!0,endLabelPadding:16,endLabelTextColor:{from:"color"},pointSize:6,activePointSize:8,inactivePointSize:4,pointColor:{from:"serie.color"},pointBorderWidth:0,activePointBorderWidth:0,inactivePointBorderWidth:0,pointBorderColor:{from:"serie.color",modifiers:[["darker",1.4]]},enableGridX:!0,enableGridY:!0,axisTop:{},axisBottom:{},axisLeft:{},isInteractive:!0,defaultActiveSerieIds:[],lineTooltip:function(e){var i=e.serie;return s.jsx(r.BasicTooltip,{"data-testid":"tooltip."+i.data.id,id:i.data.id,enableChip:!0,color:i.color})},pointTooltip:e.memo((function(e){var i=e.point;return s.jsx(r.BasicTooltip,{id:s.jsxs("span",{children:["x: ",s.jsx("strong",{children:i.data.x}),", y: ",s.jsx("strong",{children:i.data.y})]}),enableChip:!0,color:i.serie.color})})),useMesh:!1,debugMesh:!1,role:"img"},{pointComponent:function(e){var t=e.point,o=i.useMotionConfig(),n=o.animate,r=o.config,a=l.useSpring({x:t.x,y:t.y,radius:t.size/2,color:t.color,borderWidth:t.borderWidth,config:r,immediate:!n});return s.jsx(l.animated.circle,{"data-testid":"point."+t.serie.id+"."+t.data.x,cx:a.x,cy:a.y,r:l.to(a.radius,(function(e){return Math.max(e,0)})),fill:a.color,strokeWidth:a.borderWidth,stroke:t.borderColor,style:x})},animate:!0,motionConfig:"gentle"}),y=function(e){var t=e.serie,o=e.lineGenerator,n=e.yStep,r=e.isInteractive,a=e.onMouseEnter,d=e.onMouseMove,c=e.onMouseLeave,u=e.onClick,v=e.setActiveSerieIds,p=e.lineTooltip,h=e.useMesh,g=f({serie:t,isInteractive:r,onMouseEnter:a,onMouseMove:d,onMouseLeave:c,onClick:u,setActiveSerieIds:v,lineTooltip:p}),x=i.useMotionConfig(),m=x.animate,y=x.config,b=o(t.linePoints)||"",M=i.useAnimatedPath(b),C=l.useSpring({color:t.color,opacity:t.opacity,lineWidth:t.lineWidth,config:y,immediate:!m});return s.jsxs(s.Fragment,{children:[s.jsx(l.animated.path,{"data-testid":"line."+t.id,fill:"none",d:M,stroke:C.color,strokeWidth:C.lineWidth,strokeLinecap:"round",strokeOpacity:C.opacity,style:{pointerEvents:"none"}}),r&&!h&&s.jsx("path",{"data-testid":"line."+t.id+".interactive",fill:"none",stroke:"red",strokeOpacity:0,strokeWidth:n,d:b,strokeLinecap:"butt",onMouseEnter:g.onMouseEnter,onMouseMove:g.onMouseMove,onMouseLeave:g.onMouseLeave,onClick:g.onClick})]})},b=function(e){var t=e.series,o=e.getLabel,n=e.position,r=e.padding,a=e.color,d=i.useTheme(),c=i.useMotionConfig(),v=c.animate,p=c.config,h=g({series:t,getLabel:o,position:n,padding:r,color:a}),f=l.useSprings(h.length,h.map((function(e){return{x:e.x,y:e.y,opacity:e.opacity,config:p,immediate:!v}})));return s.jsx(s.Fragment,{children:f.map((function(e,i){var t=h[i];return s.jsx(l.animated.text,{"data-testid":"label."+n+"."+t.serie.id,x:e.x,y:e.y,textAnchor:t.textAnchor,dominantBaseline:"central",opacity:e.opacity,style:u({},d.labels.text,{fill:t.color}),children:t.label},t.id)}))})},M=e.memo((function(i){var t=i.points,o=i.width,n=i.height,a=i.margin,d=i.setActivePointIds,l=i.setActiveSerieIds,u=i.onMouseEnter,v=i.onMouseMove,p=i.onMouseLeave,h=i.onClick,f=i.tooltip,g=i.debug,x=r.useTooltip(),m=x.showTooltipAt,y=x.hideTooltip,b=e.useCallback((function(i,t){var o;m(e.createElement(f,{point:i}),[i.x+a.left,null!=(o=i.y)?o:0+a.top],"top"),d([i.id]),l([i.serie.id]),u&&u(i,t)}),[m,f,a.left,a.top,d,l,u]),M=e.useCallback((function(i,t){var o;m(e.createElement(f,{point:i}),[i.x+a.left,null!=(o=i.y)?o:0+a.top],"top"),d([i.id]),l([i.serie.id]),v&&v(i,t)}),[m,f,a.left,a.top,d,l,v]),C=e.useCallback((function(e,i){y(),d([]),l([]),p&&p(e,i)}),[y,p,d,l]),P=e.useCallback((function(e,i){h&&h(e,i)}),[h]);return s.jsx(c.Mesh,{nodes:t,width:o,height:n,onMouseEnter:b,onMouseMove:M,onMouseLeave:C,onClick:P,debug:g})})),C=["isInteractive","animate","motionConfig","theme","renderWrapper"],P=function(o){var n=o.data,r=o.width,a=o.height,d=o.margin,l=o.layers,c=void 0===l?m.layers:l,u=o.interpolation,v=void 0===u?m.interpolation:u,p=o.xPadding,f=void 0===p?m.xPadding:p,g=o.xOuterPadding,x=void 0===g?m.xOuterPadding:g,C=o.yOuterPadding,P=void 0===C?m.yOuterPadding:C,S=o.colors,W=void 0===S?m.colors:S,O=o.lineWidth,L=void 0===O?m.lineWidth:O,I=o.activeLineWidth,B=void 0===I?m.activeLineWidth:I,k=o.inactiveLineWidth,A=void 0===k?m.inactiveLineWidth:k,T=o.opacity,j=void 0===T?m.opacity:T,E=o.activeOpacity,w=void 0===E?m.activeOpacity:E,z=o.inactiveOpacity,F=void 0===z?m.inactiveOpacity:z,G=o.startLabel,H=void 0===G?m.startLabel:G,q=o.startLabelPadding,X=void 0===q?m.startLabelPadding:q,D=o.startLabelTextColor,R=void 0===D?m.startLabelTextColor:D,Y=o.endLabel,K=void 0===Y?m.endLabel:Y,J=o.endLabelPadding,N=void 0===J?m.endLabelPadding:J,Q=o.endLabelTextColor,U=void 0===Q?m.endLabelTextColor:Q,V=o.pointComponent,Z=void 0===V?m.pointComponent:V,$=o.pointSize,_=void 0===$?m.pointSize:$,ee=o.activePointSize,ie=void 0===ee?m.activePointSize:ee,te=o.inactivePointSize,oe=void 0===te?m.inactivePointSize:te,ne=o.pointColor,re=void 0===ne?m.pointColor:ne,ae=o.pointBorderWidth,de=void 0===ae?m.pointBorderWidth:ae,se=o.activePointBorderWidth,le=void 0===se?m.activePointBorderWidth:se,ce=o.inactivePointBorderWidth,ue=void 0===ce?m.inactivePointBorderWidth:ce,ve=o.pointBorderColor,pe=void 0===ve?m.pointBorderColor:ve,he=o.enableGridX,fe=void 0===he?m.enableGridX:he,ge=o.enableGridY,xe=void 0===ge?m.enableGridY:ge,me=o.axisTop,ye=void 0===me?m.axisTop:me,be=o.axisRight,Me=o.axisBottom,Ce=void 0===Me?m.axisBottom:Me,Pe=o.axisLeft,Se=void 0===Pe?m.axisLeft:Pe,We=o.isInteractive,Oe=void 0===We?m.isInteractive:We,Le=o.defaultActiveSerieIds,Ie=void 0===Le?m.defaultActiveSerieIds:Le,Be=o.onMouseEnter,ke=o.onMouseMove,Ae=o.onMouseLeave,Te=o.onClick,je=o.useMesh,Ee=void 0===je?m.useMesh:je,we=o.debugMesh,ze=void 0===we?m.debugMesh:we,Fe=o.lineTooltip,Ge=void 0===Fe?m.lineTooltip:Fe,He=o.pointTooltip,qe=void 0===He?m.pointTooltip:He,Xe=o.role,De=void 0===Xe?m.role:Xe,Re=i.useDimensions(r,a,d),Ye=Re.margin,Ke=Re.innerWidth,Je=Re.innerHeight,Ne=Re.outerWidth,Qe=Re.outerHeight,Ue=h({width:Ke,height:Je,data:n,interpolation:v,xPadding:f,xOuterPadding:x,yOuterPadding:P,lineWidth:L,activeLineWidth:B,inactiveLineWidth:A,colors:W,opacity:j,activeOpacity:w,inactiveOpacity:F,pointSize:_,activePointSize:ie,inactivePointSize:oe,pointColor:re,pointBorderWidth:de,activePointBorderWidth:le,inactivePointBorderWidth:ue,pointBorderColor:pe,isInteractive:Oe,defaultActiveSerieIds:Ie}),Ve=Ue.series,Ze=Ue.points,$e=Ue.xScale,_e=Ue.yScale,ei=Ue.lineGenerator,ii=Ue.activePointIds,ti=Ue.activeSerieIds,oi=Ue.setActiveSerieIds,ni=Ue.setActivePointIds,ri={grid:null,axes:null,labels:null,lines:null,points:null,mesh:null};c.includes("grid")&&(ri.grid=s.jsx(t.Grid,{width:Ke,height:Je,xScale:fe?$e:null,yScale:xe?_e:null},"grid")),c.includes("axes")&&(ri.axes=s.jsx(t.Axes,{xScale:$e,yScale:_e,width:Ke,height:Je,top:ye,right:be,bottom:Ce,left:Se},"axes")),c.includes("lines")&&(ri.lines=s.jsx(e.Fragment,{children:Ve.map((function(e){return s.jsx(y,{serie:e,setActiveSerieIds:oi,lineGenerator:ei,yStep:_e.step(),isInteractive:Oe,onMouseEnter:Be,onMouseMove:ke,onMouseLeave:Ae,onClick:Te,lineTooltip:Ge,useMesh:Ee},e.id)}))},"lines")),Oe&&Ee&&c.includes("mesh")&&(ri.mesh=s.jsx(M,{points:Ze,width:Ke,height:Je,margin:Ye,setActivePointIds:ni,setActiveSerieIds:oi,onMouseEnter:Be,onMouseMove:ke,onMouseLeave:Ae,onClick:Te,tooltip:qe,debug:ze},"mesh")),c.includes("points")&&(ri.points=Ze.map((function(i){return e.createElement(Z,{key:i.id,point:i})}))),c.includes("labels")&&(ri.labels=s.jsxs(e.Fragment,{children:[!1!==H&&s.jsx(b,{series:Ve,getLabel:H,position:"start",padding:X,color:R}),!1!==K&&s.jsx(b,{series:Ve,getLabel:K,position:"end",padding:N,color:U})]},"legends"));var ai=e.useMemo((function(){return{innerHeight:Je,innerWidth:Ke,lineGenerator:ei,points:Ze,series:Ve,xScale:$e,yScale:_e,activeSerieIds:ti,activePointIds:ii,setActiveSerieIds:oi,setActivePointIds:ni}}),[ii,ti,ni,oi,Je,Ke,ei,Ze,Ve,$e,_e]);return s.jsx(i.SvgWrapper,{width:Ne,height:Qe,margin:Ye,role:De,children:c.map((function(i,t){var o;return"function"==typeof i?s.jsx(e.Fragment,{children:e.createElement(i,ai)},t):null!=(o=null==ri?void 0:ri[i])?o:null}))})},S=function(e){var t=e.isInteractive,o=void 0===t?m.isInteractive:t,n=e.animate,r=void 0===n?m.animate:n,a=e.motionConfig,d=void 0===a?m.motionConfig:a,l=e.theme,c=e.renderWrapper,p=v(e,C);return s.jsx(i.Container,{animate:r,isInteractive:o,motionConfig:d,renderWrapper:c,theme:l,children:s.jsx(P,u({isInteractive:o},p))})},W=function(i){var t=i.data,o=i.width,n=i.height,r=i.align,s=i.spacing,l=i.xPadding;return e.useMemo((function(){return function(e){var i,t,o=e.data,n=e.width,r=e.height,s=e.align,l=e.spacing,c=e.xPadding,v=new Map;o.forEach((function(e){e.data.forEach((function(o){v.has(o.x)||v.set(o.x,{id:o.x,total:0,values:new Map,x:0});var n=v.get(o.x),r=n.total+o.y;n.total=r,n.values.set(e.id,{serieId:e.id,value:o.y,position:0,height:0,beforeHeight:0}),(void 0===i||r>i)&&(i=r),(void 0===t||n.values.size>t)&&(t=n.values.size)}))}));var p=d.castPointScale(a.scalePoint().domain(Array.from(v.keys())).range([0,n])),h=d.castLinearScale(a.scaleLinear().domain([0,i]).range([0,r-t*l]));v.forEach((function(e,i){e.x=p(i);var t=h(e.total)+e.values.size*l,o=0;"middle"===s?o=(r-t)/2:"end"===s&&(o=r-t),Array.from(e.values.values()).sort((function(e,i){return i.value-e.value})).forEach((function(i,t,n){var r=n.filter((function(e,i){return i<t})),a=r.reduce((function(e,i){return e+i.value}),0),d=e.values.get(i.serieId);d.position=t,d.height=h(i.value),d.beforeHeight=h(a)+o+l*(r.length+.5)}))}));var f=p.step()*Math.min(.5*c,.5),g=o.map((function(e){var i={id:e.id,data:e,points:[],areaPoints:[]};return e.data.forEach((function(t,o){var n=v.get(t.x),r=n.values.get(e.id),a=n.x,d=r.beforeHeight,s=r.height,l=d+s/2,c=d,p=d+s;i.points.push({x:a,y:l,height:s,data:u({},t)}),o>0&&i.areaPoints.push({x:a-f,y0:c,y1:p}),i.areaPoints.push({x:a,y0:c,y1:p}),o<e.data.length-1&&i.areaPoints.push({x:a+f,y0:c,y1:p})})),i}));return{series:g,xScale:p,heightScale:h}}({data:t,width:o,height:n,align:r,spacing:s,xPadding:l})}),[t,o,n,r,s,l])},O=function(i){return e.useMemo((function(){return"function"==typeof i?i:function(){return i}}),[i])},L=function(t){var r=t.data,a=t.width,d=t.height,s=t.align,l=t.spacing,c=t.xPadding,v=t.interpolation,p=t.colors,h=t.fillOpacity,f=t.activeFillOpacity,g=t.inactiveFillOpacity,x=t.borderWidth,m=t.activeBorderWidth,y=t.inactiveBorderWidth,b=t.borderColor,M=t.borderOpacity,C=t.activeBorderOpacity,P=t.inactiveBorderOpacity,S=t.isInteractive,L=t.defaultActiveSerieIds,I=e.useState(L),B=I[0],k=I[1],A=W({data:r,width:a,height:d,align:s,spacing:l,xPadding:c}),T=A.series,j=A.xScale,E=A.heightScale,w=function(i){return e.useMemo((function(){return o.area().x((function(e){return e.x})).y0((function(e){return e.y0})).y1((function(e){return e.y1})).curve("smooth"===i?o.curveBasis:o.curveLinear)}),[i])}(v),z=n.useOrdinalColorScale(p,"id"),F=function(t){var o=t.fillOpacity,r=t.activeFillOpacity,a=t.inactiveFillOpacity,d=t.borderWidth,s=t.activeBorderWidth,l=t.inactiveBorderWidth,c=t.borderColor,u=t.borderOpacity,v=t.activeBorderOpacity,p=t.inactiveBorderOpacity,h=t.isInteractive,f=t.activeSerieIds,g=O(o),x=O(r),m=O(a),y=O(d),b=O(s),M=O(l),C=i.useTheme(),P=n.useInheritedColor(c,C),S=O(u),W=O(v),L=O(p),I=e.useCallback((function(e){return{fillOpacity:g(e),borderWidth:y(e),borderColor:P(e),borderOpacity:S(e)}}),[g,y,P,S]),B=e.useCallback((function(e){return{fillOpacity:x(e),borderWidth:b(e),borderColor:P(e),borderOpacity:W(e)}}),[x,b,P,W]),k=e.useCallback((function(e){return{fillOpacity:m(e),borderWidth:M(e),borderColor:P(e),borderOpacity:L(e)}}),[m,M,P,L]);return e.useCallback((function(e){return h&&0!==f.length?f.includes(e.id)?B(e):k(e):I(e)}),[I,B,k,h,f])}({fillOpacity:h,activeFillOpacity:f,inactiveFillOpacity:g,borderWidth:x,activeBorderWidth:m,inactiveBorderWidth:y,borderColor:b,borderOpacity:M,activeBorderOpacity:C,inactiveBorderOpacity:P,isInteractive:S,activeSerieIds:B});return{series:e.useMemo((function(){return T.map((function(e){var i=u({},e,{color:z(e.data)});return u({},i,F(i))}))}),[T,z,F]),xScale:j,heightScale:E,areaGenerator:w,activeSerieIds:B,setActiveSerieIds:k}},I=function(i){var t=i.serie,o=i.isInteractive,n=i.onMouseEnter,a=i.onMouseMove,d=i.onMouseLeave,s=i.onClick,l=i.setActiveSerieIds,c=i.tooltip,u=r.useTooltip(),v=u.showTooltipFromEvent,p=u.hideTooltip,h=e.useCallback((function(i){v(e.createElement(c,{serie:t}),i),l([t.id]),n&&n(t,i)}),[t,n,v,l,c]),f=e.useCallback((function(i){v(e.createElement(c,{serie:t}),i),a&&a(t,i)}),[t,a,v,c]),g=e.useCallback((function(e){p(),l([]),d&&d(t,e)}),[t,d,p,l]),x=e.useCallback((function(e){s&&s(t,e)}),[t,s]);return e.useMemo((function(){return{onMouseEnter:o?h:void 0,onMouseMove:o?f:void 0,onMouseLeave:o?g:void 0,onClick:o?x:void 0}}),[o,h,f,g,x])},B=function(t){var o=t.series,r=t.position,a=t.padding,d=t.color,s=t.getLabel,l=i.useTheme(),c=n.useInheritedColor(d,l);return e.useMemo((function(){var e,i;return"start"===r?(e="end",i=-1*a):(e="start",i=a),o.map((function(t){var o=t.id;"function"==typeof s&&(o=s(t.data));var n="start"===r?t.points[0]:t.points[t.points.length-1];return{id:t.id,label:o,x:n.x+i,y:n.y,color:c(t),opacity:t.fillOpacity,serie:t,textAnchor:e}}))}),[s,o,r,a,c])},k=function(e){var t=e.serie,o=e.areaGenerator,n=e.blendMode,r=e.isInteractive,a=e.onMouseEnter,d=e.onMouseMove,c=e.onMouseLeave,u=e.onClick,v=e.setActiveSerieIds,p=e.tooltip,h=I({serie:t,isInteractive:r,onMouseEnter:a,onMouseMove:d,onMouseLeave:c,onClick:u,setActiveSerieIds:v,tooltip:p}),f=i.useMotionConfig(),g=f.animate,x=f.config,m=i.useAnimatedPath(o(t.areaPoints)||""),y=l.useSpring({color:t.color,fillOpacity:t.fillOpacity,stroke:t.borderColor,strokeOpacity:t.borderOpacity,config:x,immediate:!g});return s.jsx(l.animated.path,{"data-testid":"area."+t.id,d:m,fill:t.fill?t.fill:y.color,fillOpacity:y.fillOpacity,stroke:y.stroke,strokeWidth:t.borderWidth,strokeOpacity:y.strokeOpacity,style:{mixBlendMode:n},onMouseEnter:h.onMouseEnter,onMouseMove:h.onMouseMove,onMouseLeave:h.onMouseLeave,onClick:h.onClick})},A=function(e){var t=e.getLabel,o=e.series,n=e.position,r=e.padding,a=e.color,d=i.useTheme(),c=i.useMotionConfig(),v=c.animate,p=c.config,h=B({getLabel:t,series:o,position:n,padding:r,color:a}),f=l.useSprings(h.length,h.map((function(e){return{x:e.x,y:e.y,opacity:e.opacity,config:p,immediate:!v}})));return s.jsx(s.Fragment,{children:f.map((function(e,i){var t=h[i];return s.jsx(l.animated.text,{"data-testid":"label."+n+"."+t.serie.id,x:e.x,y:e.y,textAnchor:t.textAnchor,dominantBaseline:"central",opacity:e.opacity,style:u({},d.labels.text,{fill:t.color}),children:t.label},t.id)}))})},T=u({},{align:"middle",layers:["grid","axes","labels","areas"],interpolation:"smooth",spacing:0,xPadding:.6,colors:{scheme:"nivo"},blendMode:"normal",fillOpacity:.8,activeFillOpacity:1,inactiveFillOpacity:.15,borderWidth:1,activeBorderWidth:1,inactiveBorderWidth:0,borderColor:{from:"color",modifiers:[["darker",.4]]},borderOpacity:1,activeBorderOpacity:1,inactiveBorderOpacity:0,startLabel:!1,startLabelPadding:12,startLabelTextColor:{from:"color",modifiers:[["darker",1]]},endLabel:!0,endLabelPadding:12,endLabelTextColor:{from:"color",modifiers:[["darker",1]]},enableGridX:!0,axisTop:{},axisBottom:{},isInteractive:!0,defaultActiveSerieIds:[],tooltip:function(e){var i=e.serie;return s.jsx(r.BasicTooltip,{id:i.id,enableChip:!0,color:i.color})},role:"img"},{defs:[],fill:[],animate:!0,motionConfig:"gentle"}),j=["isInteractive","animate","motionConfig","theme","renderWrapper"],E=function(o){var n=o.data,r=o.align,a=void 0===r?T.align:r,d=o.width,l=o.height,c=o.margin,u=o.layers,v=void 0===u?T.layers:u,p=o.interpolation,h=void 0===p?T.interpolation:p,f=o.spacing,g=void 0===f?T.spacing:f,x=o.xPadding,m=void 0===x?T.xPadding:x,y=o.colors,b=void 0===y?T.colors:y,M=o.blendMode,C=void 0===M?T.blendMode:M,P=o.fillOpacity,S=void 0===P?T.fillOpacity:P,W=o.activeFillOpacity,O=void 0===W?T.activeFillOpacity:W,I=o.inactiveFillOpacity,B=void 0===I?T.inactiveFillOpacity:I,j=o.defs,E=void 0===j?T.defs:j,w=o.fill,z=void 0===w?T.fill:w,F=o.borderWidth,G=void 0===F?T.borderWidth:F,H=o.activeBorderWidth,q=void 0===H?T.activeBorderWidth:H,X=o.inactiveBorderWidth,D=void 0===X?T.inactiveBorderWidth:X,R=o.borderColor,Y=void 0===R?T.borderColor:R,K=o.borderOpacity,J=void 0===K?T.borderOpacity:K,N=o.activeBorderOpacity,Q=void 0===N?T.activeBorderOpacity:N,U=o.inactiveBorderOpacity,V=void 0===U?T.inactiveBorderOpacity:U,Z=o.startLabel,$=void 0===Z?T.startLabel:Z,_=o.startLabelPadding,ee=void 0===_?T.startLabelPadding:_,ie=o.startLabelTextColor,te=void 0===ie?T.startLabelTextColor:ie,oe=o.endLabel,ne=void 0===oe?T.endLabel:oe,re=o.endLabelPadding,ae=void 0===re?T.endLabelPadding:re,de=o.endLabelTextColor,se=void 0===de?T.endLabelTextColor:de,le=o.enableGridX,ce=void 0===le?T.enableGridX:le,ue=o.axisTop,ve=void 0===ue?T.axisTop:ue,pe=o.axisBottom,he=void 0===pe?T.axisBottom:pe,fe=o.isInteractive,ge=void 0===fe?T.isInteractive:fe,xe=o.defaultActiveSerieIds,me=void 0===xe?T.defaultActiveSerieIds:xe,ye=o.onMouseEnter,be=o.onMouseMove,Me=o.onMouseLeave,Ce=o.onClick,Pe=o.tooltip,Se=void 0===Pe?T.tooltip:Pe,We=o.role,Oe=void 0===We?T.role:We,Le=i.useDimensions(d,l,c),Ie=Le.margin,Be=Le.innerWidth,ke=Le.innerHeight,Ae=Le.outerWidth,Te=Le.outerHeight,je=L({data:n,width:Be,height:ke,align:a,spacing:g,xPadding:m,interpolation:h,colors:b,fillOpacity:S,activeFillOpacity:O,inactiveFillOpacity:B,borderWidth:G,activeBorderWidth:q,inactiveBorderWidth:D,borderColor:Y,borderOpacity:J,activeBorderOpacity:Q,inactiveBorderOpacity:V,isInteractive:ge,defaultActiveSerieIds:me}),Ee=je.series,we=je.xScale,ze=je.heightScale,Fe=je.areaGenerator,Ge=je.setActiveSerieIds,He=e.useMemo((function(){return i.bindDefs(E,Ee,z,{targetKey:"fill"})}),[E,Ee,z]),qe={grid:null,axes:null,labels:null,areas:null};v.includes("grid")&&ce&&(qe.grid=s.jsx(t.Grid,{width:Be,height:ke,xScale:we},"grid")),v.includes("axes")&&(qe.axes=s.jsx(t.Axes,{xScale:we,yScale:ze,width:Be,height:ke,top:ve,bottom:he},"axes")),v.includes("areas")&&(qe.areas=s.jsx(e.Fragment,{children:Ee.map((function(e){return s.jsx(k,{areaGenerator:Fe,serie:e,blendMode:C,isInteractive:ge,setActiveSerieIds:Ge,onMouseEnter:ye,onMouseMove:be,onMouseLeave:Me,onClick:Ce,tooltip:Se},e.id)}))},"areas")),v.includes("labels")&&(qe.labels=s.jsxs(e.Fragment,{children:[!1!==$&&s.jsx(A,{getLabel:$,series:Ee,position:"start",padding:ee,color:te}),!1!==ne&&s.jsx(A,{getLabel:ne,series:Ee,position:"end",padding:ae,color:se})]},"labels"));var Xe=e.useMemo((function(){return{innerWidth:Be,innerHeight:ke,outerWidth:Ae,outerHeight:Te,series:Ee,xScale:we,areaGenerator:Fe}}),[Be,ke,Ae,Te,Ee,we,Fe]);return s.jsx(i.SvgWrapper,{defs:He,width:Ae,height:Te,margin:Ie,role:Oe,children:v.map((function(i,t){var o;return"function"==typeof i?s.jsx(e.Fragment,{children:e.createElement(i,Xe)},t):null!=(o=null==qe?void 0:qe[i])?o:null}))})},w=function(e){var t=e.isInteractive,o=void 0===t?T.isInteractive:t,n=e.animate,r=void 0===n?T.animate:n,a=e.motionConfig,d=void 0===a?T.motionConfig:a,l=e.theme,c=e.renderWrapper,p=v(e,j);return s.jsx(i.Container,{animate:r,isInteractive:o,motionConfig:d,renderWrapper:c,theme:l,children:s.jsx(E,u({isInteractive:o},p))})};exports.AreaBump=w,exports.Bump=S,exports.ResponsiveAreaBump=function(e){return s.jsx(i.ResponsiveWrapper,{children:function(i){var t=i.width,o=i.height;return s.jsx(w,u({width:t,height:o},e))}})},exports.ResponsiveBump=function(e){return s.jsx(i.ResponsiveWrapper,{children:function(i){var t=i.width,o=i.height;return s.jsx(S,u({width:t,height:o},e))}})},exports.areaBumpSvgDefaultProps=T,exports.bumpSvgDefaultProps=m,exports.isBumpPoint=function(e){return"serie"in e},exports.isComputedBumpSerie=function(e){return"points"in e},exports.useAreaBump=L,exports.useAreaBumpSerieHandlers=I,exports.useAreaBumpSeriesLabels=B,exports.useBump=h,exports.useBumpPointHandlers=function(i){var t=i.point,o=i.isInteractive,n=i.onMouseEnter,a=i.onMouseMove,d=i.onMouseLeave,s=i.onClick,l=i.setActivePointIds,c=i.setActiveSerieIds,u=i.pointTooltip,v=r.useTooltip(),p=v.showTooltipFromEvent,h=v.hideTooltip,f=e.useCallback((function(i){p(e.createElement(u,{point:t}),i),l([t.id]),c([t.serie.id]),n&&n(t,i)}),[p,u,t,l,c,n]),g=e.useCallback((function(i){p(e.createElement(u,{point:t}),i),a&&a(t,i)}),[p,u,t,a]),x=e.useCallback((function(e){h(),l([]),c([]),d&&d(t,e)}),[h,l,c,d,t]),m=e.useCallback((function(e){s&&s(t,e)}),[t,s]);return e.useMemo((function(){return{onMouseEnter:o?f:void 0,onMouseMove:o?g:void 0,onMouseLeave:o?x:void 0,onClick:o?m:void 0}}),[o,f,g,x,m])},exports.useBumpSerieHandlers=f,exports.useBumpSeriesLabels=g;
//# sourceMappingURL=nivo-bump.cjs.js.map
